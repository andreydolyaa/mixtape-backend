(function(e){function t(t){for(var n,i,u=t[0],a=t[1],c=t[2],l=0,d=[];l<u.length;l++)i=u[l],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);p&&p(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,u=1;u<r.length;u++){var a=r[u];0!==s[a]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},s={app:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],a=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var p=a;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n,s=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("nav",[r("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" | "),r("router-link",{attrs:{to:"/about"}},[e._v("About")]),e._v(" | "),r("router-link",{attrs:{to:"/test"}},[e._v("Test")])],1),r("router-view")],1)},i=[],u=(r("034f"),r("2877")),a={},c=Object(u["a"])(a,o,i,!1,null,null,null),p=c.exports,l=r("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("img",{attrs:{alt:"Vue logo",src:r("cf05")}}),n("ul",e._l(e.reviews,(function(t){return n("li",{key:t._id},[n("h3",[e._v(e._s(t.txt))]),n("p",[e._v(" About "),n("router-link",{attrs:{to:"user/"+t.aboutUser._id}},[e._v(" "+e._s(t.aboutUser.username)+" ")])],1),n("p",[e._v("By "),n("router-link",{attrs:{to:"user/"+t.byUser._id}},[e._v(" "+e._s(t.byUser.username)+" ")])],1),n("hr")])})),0),n("hr"),n("form",{on:{submit:function(t){return t.preventDefault(),e.addReview()}}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.reviewToEdit.aboutUserId,expression:"reviewToEdit.aboutUserId"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.reviewToEdit,"aboutUserId",t.target.multiple?r:r[0])}}},e._l(e.users,(function(t){return n("option",{key:t._id,domProps:{value:t._id}},[e._v(" "+e._s(t.username)+" ")])})),0),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reviewToEdit.txt,expression:"reviewToEdit.txt"}],attrs:{placeholder:"Your Opinion Matters..."},domProps:{value:e.reviewToEdit.txt},on:{input:function(t){t.target.composing||e.$set(e.reviewToEdit,"txt",t.target.value)}}}),n("button",[e._v("Save")])])])},m=[],v={name:"home",data:function(){return{reviewToEdit:{txt:"",aboutUserId:null}}},computed:{reviews:function(){return this.$store.getters.reviews},users:function(){return this.$store.getters.users}},created:function(){this.$store.dispatch({type:"loadUsers"}),this.$store.dispatch({type:"loadReviews"})},methods:{addReview:function(){this.$store.dispatch({type:"addReview",review:this.reviewToEdit}),this.reviewToEdit={txt:"",aboutUserId:null}}}},g=v,f=Object(u["a"])(g,d,m,!1,null,null,null),h=f.exports,w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"about"},[r("h1",[e._v("About Us")]),r("p",[e._v("We like You")]),r("h2",[e._v("Lets Chat About "+e._s(e.topic))]),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.topic,expression:"topic"}],attrs:{type:"radio",value:"Politics"},domProps:{checked:e._q(e.topic,"Politics")},on:{change:[function(t){e.topic="Politics"},e.changeTopic]}}),e._v(" Politics ")]),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.topic,expression:"topic"}],attrs:{type:"radio",value:"Love"},domProps:{checked:e._q(e.topic,"Love")},on:{change:[function(t){e.topic="Love"},e.changeTopic]}}),e._v(" Love ")]),r("ul",e._l(e.msgs,(function(t,n){return r("li",{key:n},[e._v(" "+e._s(t.txt)+" ")])})),0),r("form",{on:{submit:function(t){return t.preventDefault(),e.sendMsg(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.msg.txt,expression:"msg.txt"}],attrs:{type:"text"},domProps:{value:e.msg.txt},on:{input:function(t){t.target.composing||e.$set(e.msg,"txt",t.target.value)}}}),r("button",[e._v("Send")])])])},b=[],x=r("8e27"),_=r.n(x),y="/",U={setup:R,terminate:k,on:O,off:C,emit:j};function R(){n=_()(y)}function k(){n=null}function O(e,t){n.on(e,t)}function C(e,t){n.off(e,t)}function j(e,t){n.emit(e,t)}var P={data:function(){return{msg:{from:"Me",txt:""},msgs:[],topic:"Love"}},created:function(){U.setup(),U.emit("chat topic",this.topic),U.on("chat addMsg",this.addMsg)},destroyed:function(){U.off("chat addMsg",this.addMsg),U.terminate()},methods:{addMsg:function(e){this.msgs.push(e)},sendMsg:function(){console.log("Sending",this.msg),U.emit("chat newMsg",this.msg),this.msg={from:"Me",txt:""}},changeTopic:function(){U.emit("chat topic",this.topic)}},watch:{topic:function(){},"msg.txt":function(){},msgs:{handler:function(){}}}},T=P,$=Object(u["a"])(T,w,b,!1,null,null,null),E=$.exports,S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"about"},[r("h1",[e._v("This is a testing page for working with the Production Ready Server")]),r("h2",[e._v(e._s(e.msg))]),e.loggedinUser?r("div",[r("h3",[e._v(" Loggedin User: "+e._s(e.loggedinUser.username)+" "),r("form",{on:{submit:function(t){return t.preventDefault(),e.updateUser(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.userToEdit.username,expression:"userToEdit.username"}],attrs:{type:"text"},domProps:{value:e.userToEdit.username},on:{input:function(t){t.target.composing||e.$set(e.userToEdit,"username",t.target.value)}}})]),r("button",{on:{click:e.doLogout}},[e._v("Logout")])])]):r("div",[r("form",{on:{submit:function(t){return t.preventDefault(),e.doLogin(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.loginCred.email,expression:"loginCred.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.loginCred.email},on:{input:function(t){t.target.composing||e.$set(e.loginCred,"email",t.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.loginCred.password,expression:"loginCred.password"}],attrs:{type:"text",placeholder:"Password"},domProps:{value:e.loginCred.password},on:{input:function(t){t.target.composing||e.$set(e.loginCred,"password",t.target.value)}}}),r("br"),r("button",[e._v("Login")])]),r("form",{on:{submit:function(t){return t.preventDefault(),e.doSignup(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.signupCred.email,expression:"signupCred.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.signupCred.email},on:{input:function(t){t.target.composing||e.$set(e.signupCred,"email",t.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.signupCred.password,expression:"signupCred.password"}],attrs:{type:"text",placeholder:"Password"},domProps:{value:e.signupCred.password},on:{input:function(t){t.target.composing||e.$set(e.signupCred,"password",t.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.signupCred.username,expression:"signupCred.username"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:e.signupCred.username},on:{input:function(t){t.target.composing||e.$set(e.signupCred,"username",t.target.value)}}}),r("br"),r("button",[e._v("Signup")])])]),r("hr"),r("button",{on:{click:e.getAllUsers}},[e._v("Get All Users")]),r("ul",e._l(e.users,(function(t){return r("li",{key:t._id},[r("pre",[e._v(e._s(t))]),r("button",{on:{click:function(r){return e.removeUser(t._id)}}},[e._v("x")])])})),0)])},M=[],I=r("5530"),L=(r("96cf"),r("1da1")),N={name:"test",data:function(){return{loginCred:{},signupCred:{},msg:"",userToEdit:{}}},computed:{users:function(){return this.$store.getters.users},loggedinUser:function(){return this.$store.getters.loggedinUser}},created:function(){console.log("this.loggedinUser",this.loggedinUser)},methods:{doLogin:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.loginCred,r.email&&r.password){t.next=3;break}return t.abrupt("return",e.msg="Please enter user/password");case 3:return t.next=5,e.$store.dispatch({type:"login",userCred:r});case 5:e.loginCred={};case 6:case"end":return t.stop()}}),t)})))()},doLogout:function(){this.$store.dispatch({type:"logout"})},doSignup:function(){var e=this.signupCred;if(!e.email||!e.password||!e.username)return this.msg="Please fill up the form";this.$store.dispatch({type:"signup",userCred:e})},getAllUsers:function(){this.$store.dispatch({type:"loadUsers"})},removeUser:function(e){this.$store.dispatch({type:"removeUser",userId:e})},updateUser:function(){this.$store.dispatch({type:"updateUser",user:this.userToEdit})}},watch:{loggedinUser:function(){this.userToEdit=Object(I["a"])({},this.loggedinUser)}}},A=N,D=Object(u["a"])(A,S,M,!1,null,null,null),q=D.exports,H=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.user?r("section",[r("h1",[e._v("User Details - "+e._s(e.user.username))]),r("pre",[e._v(e._s(e.user))])]):e._e()},J=[],B=(r("99af"),r("2f62")),G=(r("4de4"),null);sessionStorage.user&&(G=JSON.parse(sessionStorage.user));var Y={state:{loggedinUser:G,users:[]},getters:{users:function(e){return e.users},loggedinUser:function(e){return e.loggedinUser}},mutations:{setUser:function(e,t){var r=t.user;e.loggedinUser=r},setUsers:function(e,t){var r=t.users;e.users=r},removeUser:function(e,t){var r=t.userId;e.users=e.users.filter((function(e){return e._id!==r}))}},actions:{login:function(e,t){return Object(L["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.userCred,r.next=3,ie.login(n);case 3:return s=r.sent,e.commit({type:"setUser",user:s}),r.abrupt("return",s);case 6:case"end":return r.stop()}}),r)})))()},signup:function(e,t){return Object(L["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.userCred,r.next=3,ie.signup(n);case 3:return s=r.sent,e.commit({type:"setUser",user:s}),r.abrupt("return",s);case 6:case"end":return r.stop()}}),r)})))()},logout:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ie.logout();case 2:e.commit({type:"setUsers",users:[]}),e.commit({type:"setUser",user:null});case 4:case"end":return t.stop()}}),t)})))()},loadUsers:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ie.getUsers();case 2:r=t.sent,e.commit({type:"setUsers",users:r});case 4:case"end":return t.stop()}}),t)})))()},removeUser:function(e,t){return Object(L["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.userId,r.next=3,ie.remove(n);case 3:e.commit({type:"removeUser",userId:n});case 4:case"end":return r.stop()}}),r)})))()},updateUser:function(e,t){return Object(L["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.user,r.next=3,ie.update(n);case 3:n=r.sent,e.commit({type:"setUser",user:n});case 5:case"end":return r.stop()}}),r)})))()}}},V={state:{},getters:{},mutations:{},actions:{sendMsg:function(e,t){var r=t.msg;U.emit("sendMsg",r)},getChatHistory:function(e,t){var r=t.chatId;U.emit("getHistory",r)}}},W={add:K,query:z,remove:F};function z(){return ne.get("review")}function F(e){return ne.delete("review/".concat(e))}function K(e){return ne.post("review",e)}var Q={state:{reviews:[]},getters:{reviews:function(e){return e.reviews}},mutations:{setReviews:function(e,t){var r=t.reviews;e.reviews=r},addReview:function(e,t){var r=t.review;e.reviews.push(r)},removeReview:function(e,t){var r=t.reviewId;e.reviews=e.reviews.filter((function(e){return e._id!==r}))}},actions:{addReview:function(e,t){return Object(L["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.review,r.next=3,W.add(n);case 3:return n=r.sent,e.commit({type:"addReview",review:n}),r.abrupt("return",n);case 6:case"end":return r.stop()}}),r)})))()},loadReviews:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W.query();case 2:r=t.sent,e.commit({type:"setReviews",reviews:r});case 4:case"end":return t.stop()}}),t)})))()},removeReview:function(e,t){return Object(L["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.reviewId,r.next=3,W.remove(n);case 3:e.commit({type:"removeReview",reviewId:n});case 4:case"end":return r.stop()}}),r)})))()}}};s["a"].use(B["a"]);var X=new B["a"].Store({strict:!0,modules:{UserStore:Y,SocketStore:V,ReviewStore:Q},state:{},mutations:{},actions:{}}),Z=r("bc3a"),ee=r.n(Z),te="/api/",re=ee.a.create({withCredentials:!0}),ne={get:function(e,t){return se(e,"GET",t)},post:function(e,t){return se(e,"POST",t)},put:function(e,t){return se(e,"PUT",t)},delete:function(e,t){return se(e,"DELETE",t)}};function se(e){return oe.apply(this,arguments)}function oe(){return oe=Object(L["a"])(regeneratorRuntime.mark((function e(t){var r,n,s,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:"get",n=o.length>2&&void 0!==o[2]?o[2]:null,e.prev=2,e.next=5,re({url:"".concat(te).concat(t),method:r,data:n});case 5:return s=e.sent,e.abrupt("return",s.data);case 9:throw e.prev=9,e.t0=e["catch"](2),401===e.t0.response.status&&ye.push("/"),console.log("Had issues ".concat(r,"ing to server"),e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,9]])}))),oe.apply(this,arguments)}var ie={login:le,logout:ge,signup:me,getUsers:ue,getById:ae,remove:ce,update:pe};function ue(){return ne.get("user")}function ae(e){return ne.get("user/".concat(e))}function ce(e){return ne.delete("user/".concat(e))}function pe(e){return ne.put("user/".concat(e._id),e)}function le(e){return de.apply(this,arguments)}function de(){return de=Object(L["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.post("auth/login",t);case 2:return r=e.sent,e.abrupt("return",he(r));case 4:case"end":return e.stop()}}),e)}))),de.apply(this,arguments)}function me(e){return ve.apply(this,arguments)}function ve(){return ve=Object(L["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.post("auth/signup",t);case 2:return r=e.sent,e.abrupt("return",he(r));case 4:case"end":return e.stop()}}),e)}))),ve.apply(this,arguments)}function ge(){return fe.apply(this,arguments)}function fe(){return fe=Object(L["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ne.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)}))),fe.apply(this,arguments)}function he(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}var we={data:function(){return{user:null}},created:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$route.params.id,t.next=3,ie.getById(r);case 3:n=t.sent,e.user=n;case 5:case"end":return t.stop()}}),t)})))()}},be=we,xe=Object(u["a"])(be,H,J,!1,null,null,null),_e=xe.exports;s["a"].use(l["a"]);var ye=new l["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:h},{path:"/about",name:"about",component:E},{path:"/test",name:"test",component:q},{path:"/user/:id",name:"user-details",component:_e}]});s["a"].config.productionTip=!1,new s["a"]({router:ye,store:X,render:function(e){return e(p)}}).$mount("#app")},"85ec":function(e,t,r){},cf05:function(e,t,r){e.exports=r.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.1e5d24c3.js.map