(function(e){function t(t){for(var s,o,a=t[0],c=t[1],l=t[2],g=0,m=[];g<a.length;g++)o=a[g],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(m.length)m.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(s=!1)}s&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var s={},i={app:0},r=[];function o(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=s,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},3010:function(e,t,n){},"3c61":function(e,t,n){},5248:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t),n.d(t,"eventBus",(function(){return us}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[e.isLogin||e.isSignup?s("div",{staticClass:"screen",on:{click:function(t){return t.preventDefault(),e.close(t)}}}):e._e(),e.isLogin?s("mix-login",{staticClass:"centered"}):e._e(),e.isSignup?s("mix-signup",{staticClass:"centered"}):e._e(),s("appHeader"),e.isLoading?s("div",{staticClass:"loader reflect"},[s("img",{attrs:{src:n("a38d")}})]):s("div",[s("router-view"),s("div",{staticClass:"global"},[s("globalPlayer")],1)],1)],1)},r=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loggedinUser?e._e():n("section",{staticClass:"login-user"},[n("div",{staticClass:"header-login"},[n("button",{staticClass:"close"},[n("i",{staticClass:"fas fa-times",on:{click:function(t){return t.preventDefault(),e.close(t)}}})]),n("h2",[e._v("login")])]),n("div",{staticClass:"checkLogin"},[n("form",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}}},[n("el-input",{attrs:{type:"text",placeholder:"User name",required:"",clearable:""},model:{value:e.cerdentials.email,callback:function(t){e.$set(e.cerdentials,"email",t)},expression:"cerdentials.email"}}),n("el-input",{attrs:{type:"text",placeholder:"Password","show-password":"",required:"",clearable:""},model:{value:e.cerdentials.password,callback:function(t){e.$set(e.cerdentials,"password",t)},expression:"cerdentials.password"}}),n("el-button",{attrs:{type:"success"},on:{click:function(t){return t.preventDefault(),e.login(t)}}},[e._v("Login")]),e.isError?n("span",{staticClass:"err"},[e._v("Email or Password incorrect")]):e._e()],1)])])},a=[],c=(n("96cf"),n("1da1")),l={name:"login",data:function(){return{cerdentials:{email:"",password:""},isError:!1}},computed:{loggedinUser:function(){var e=this.$store.getters.getLoggedinUser;return console.log("user",e),e},isLogin:function(){return this.$store.getters.getIsLogin},isSignup:function(){return this.$store.getters.getIsSignup}},created:function(){},methods:{login:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("here");try{e.$store.dispatch({type:"login",userCred:e.cerdentials}),console.log("this.loggedinUser",e.loggedinUser),console.log("setLogin"),e.$store.commit({type:"setLogin"})}catch(n){console.log("email or password inncorect",n),e.isError=!0}case 2:case"end":return t.stop()}}),t)})))()},close:function(){console.log("close screen"),this.isLogin&&(console.log("close screen setLogin"),this.$store.commit({type:"setLogin"})),this.isSignup&&this.$store.commit({type:"setSignup"})}},watch:{}},u=l,g=n("2877"),m=Object(g["a"])(u,o,a,!1,null,null,null),p=m.exports,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loggedinUser?e._e():n("section",{staticClass:"signup-user"},[n("div",{staticClass:"header-login"},[n("button",{staticClass:"close"},[n("i",{staticClass:"fas fa-times",on:{click:function(t){return t.preventDefault(),e.close(t)}}})]),n("h2",[e._v("Signup")])]),n("div",{staticClass:"checkLogin"},[n("form",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signup(t)}}},[n("div",{staticClass:"rub"},[n("span",{staticClass:"req"},[e._v("*")]),n("el-input",{attrs:{type:"email",placeholder:"Email",required:"",clearable:""},model:{value:e.cerdentials.email,callback:function(t){e.$set(e.cerdentials,"email",t)},expression:"cerdentials.email"}})],1),n("div",{staticClass:"rub"},[n("span",{staticClass:"req"},[e._v("*")]),n("el-input",{attrs:{type:"text",placeholder:"Username",required:"",clearable:""},model:{value:e.cerdentials.username,callback:function(t){e.$set(e.cerdentials,"username",t)},expression:"cerdentials.username"}})],1),n("div",{staticClass:"rub"},[n("span",{staticClass:"req"},[e._v("*")]),n("el-input",{attrs:{type:"text",placeholder:"Password","show-password":"",required:"",clearable:""},model:{value:e.cerdentials.password,callback:function(t){e.$set(e.cerdentials,"password",t)},expression:"cerdentials.password"}})],1),n("el-button",{attrs:{type:"success"},on:{click:function(t){return t.preventDefault(),e.signup(t)}}},[e._v("Signup")]),n("br"),e._m(0)],1)])])},f=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"err"},[n("span",[e._v("*")]),e._v(" - this is a required field")])}],h={name:"signup",data:function(){return{cerdentials:{email:"",username:"",password:""}}},computed:{loggedinUser:function(){return this.$store.getters.getLoggedinUser},isLogin:function(){return this.$store.getters.getIsLogin},isSignup:function(){return this.$store.getters.getIsSignup}},created:function(){},methods:{signup:function(){this.$store.dispatch({type:"signup",userCred:this.cerdentials})},close:function(){console.log("close screen"),this.isLogin&&(console.log("close screen setLogin"),this.$store.commit({type:"setLogin"})),this.isSignup&&this.$store.commit({type:"setSignup"})}},components:{},watch:{}},x=h,v=(n("f8e7"),Object(g["a"])(x,d,f,!1,null,"5aeee28e",null)),y=v.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"app-header"},[n("div",{staticClass:"logo",class:e.isPlaying,on:{click:e.resetIcon}},[n("router-link",{attrs:{to:"/"}},[n("img",{staticClass:"reflect",attrs:{src:"https://res.cloudinary.com/hw-projects/image/upload/v1607170425/appmixes/logo_r_animated_v3_160x105.gif"}})]),n("router-link",{attrs:{to:"/"}},[n("h2",{staticClass:"brand-name"},[e._v("mixTape")])])],1),n("nav",{staticClass:"main-nav"},[n("div",{staticClass:"nav-mix"},[n("router-link",{attrs:{to:"/mix/list"}},[e._v("Mixes")]),n("a",{on:{click:e.createNewPlaylist}},[e._v("Create Mix")])],1),n("div",{staticClass:"nav-user-pos"},[n("div",{staticClass:"nav-user"},[n("el-menu",{attrs:{"default-active":"2",collapse:e.isCollapse},on:{open:e.handleOpen,close:e.handleClose}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("span",{staticClass:"user-avater"},[n("i",{staticClass:"fas fa-user-circle"})]),e.user?n("div",{staticClass:"user-display"},[e._v("Hello "+e._s(e.user.username))]):e._e()]),n("el-menu-item-group",[e.user?n("el-menu-item",{attrs:{index:"1-1"},on:{click:e.onSetLogout}},[e._v("Logout")]):n("el-menu-item",{attrs:{index:"1-1"},on:{click:e.onSetLogin}},[e._v("Login")]),e.user?e._e():n("el-menu-item",{attrs:{index:"1-2"},on:{click:e.onSetSignup}},[e._v("Signup")])],1)],2)],1)],1)])])])])},S=[],_={data:function(){return{isCollapse:!1}},methods:{createNewPlaylist:function(){this.$store.commit({type:"setMixEmpty"}),this.$router.push("/mix/details")},resetIcon:function(){us.$emit("reset-icons")},onSetLogin:function(){this.$store.commit({type:"setLogin"})},onSetSignup:function(){this.$store.commit({type:"setSignup"})},onSetLogout:function(){this.$store.dispatch({type:"logout"})},handleOpen:function(e,t){},handleClose:function(e,t){}},computed:{getCurrMix:function(){return this.$store.getters.getMix},user:function(){return this.$store.getters.getLoggedinUser},getCurrSong:function(){return this.$store.getters.getCurrSongPlaying},isPlaying:function(){var e=this.$store.getters.getCurrSongIsPlaying;return e?"logo-playing":"logo-stop"},isLogin:function(){return this.$store.getters.getIsLogin}}},w=_,b=Object(g["a"])(w,C,S,!1,null,null,null),M=b.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"app-footer"},[n("div",{staticClass:"logo",class:e.isPlaying},[n("router-link",{attrs:{to:"/"}},[n("img",{staticClass:"reflect",attrs:{src:"https://res.cloudinary.com/hw-projects/image/upload/v1606479695/appmixes/logo_r_animated_v3_first_Frame"}})])],1),n("span",[e._v("Created by:")]),e._m(0),n("small",[e._v("Â© Coffee Rights mixTape 2020")])])])},P=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h2",[n("p",[e._v("Andery Dolya "),n("i",{staticClass:"fab fa-linkedin"}),e._v(" "),n("i",{staticClass:"fab fa-github"}),e._v(" | ")]),n("p",[e._v(" Eilon Shetrit "),n("i",{staticClass:"fab fa-linkedin"}),e._v(" "),n("i",{staticClass:"fab fa-github"}),e._v(" | ")]),n("p",[e._v(" Harel Weingarten "),n("i",{staticClass:"fab fa-linkedin"}),e._v(" "),n("i",{staticClass:"fab fa-github"})])])}],$={computed:{isPlaying:function(){var e=this.$store.getters.getCurrSongIsPlaying;return e?"logo-playing":"logo-stop"}}},T=$,I=Object(g["a"])(T,k,P,!1,null,null,null),O=I.exports,N=(n("7db0"),n("99af"),n("bc3a")),j=n.n(N),L="/api/",E=j.a.create({withCredentials:!0}),U={get:function(e,t){return R(e,"GET",t)},post:function(e,t){return R(e,"POST",t)},put:function(e,t){return R(e,"PUT",t)},delete:function(e,t){return R(e,"DELETE",t)}};function R(e){return D.apply(this,arguments)}function D(){return D=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,s,i,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"get",s=r.length>2&&void 0!==r[2]?r[2]:null,e.prev=2,e.next=5,E({url:"".concat(L).concat(t),method:n,data:s});case 5:return i=e.sent,e.abrupt("return",i.data);case 9:throw e.prev=9,e.t0=e["catch"](2),console.log("Had issues ".concat(n,"ing to server"),e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,9]])}))),D.apply(this,arguments)}var A={query:G,getById:H,remove:B,save:V,update:q,getSongByIdAndMix:F,createNewSong:z};function G(){return U.get("mix")}function H(e){return U.get("mix/".concat(e))}function B(e){return U.delete("mix/".concat(e))}function V(e){return U.post("mix",e)}function q(e){return U.put("mix/".concat(e._id),e)}function F(e,t){return J.apply(this,arguments)}function J(){return J=Object(c["a"])(regeneratorRuntime.mark((function e(t,n){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,H(n);case 2:return s=e.sent,i=s.songs.find((function(e){return e.id===t})),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}function z(){return{title:"",id:W(),songUrlId:"",imgUrl:"",addedBy:"minimal-user",duration:"3:21",isPlaying:!1}}function W(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}var Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"globalPlayer"},[n("div",[e.getCurrSongPlaying?n("div",[n("youtube",{ref:"youtube",staticClass:"youtube-window",attrs:{"video-id":e.getCurrSongPlaying.songUrlId,"player-vars":e.playerVars},on:{playing:e.playing,ended:e.ended}})],1):e._e()]),n("div",{staticClass:"global-player"},[n("div",{staticClass:"logo",class:e.isPlayingClass},[n("router-link",{attrs:{to:"/"}},[n("img",{staticClass:"reflect",attrs:{src:"https://res.cloudinary.com/hw-projects/image/upload/v1606479695/appmixes/logo_r_animated_v3_first_Frame"}})])],1),n("marquee-text",{staticClass:"title-width"},[e.getCurrSongPlaying?n("h2",[e._v(e._s(e.getCurrSongPlaying.title))]):n("h2",[e._v("Unknown Mix")])]),n("div",{staticClass:"progress-bar"},[e.currTime?n("p",[e._v(e._s(e.currTime))]):n("p",[e._v("00:00")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.currTimePlaying,expression:"currTimePlaying"}],class:e.getCurrSongPlaying.isPlaying?"player-animation":"player-no-animation",attrs:{type:"range",min:e.currTime,max:e.totalTimeInput},domProps:{value:e.currTimePlaying},on:{input:function(t){return e.moveTo()},__r:function(t){e.currTimePlaying=t.target.value}}}),e.totalTime?n("p",[e._v(e._s(e.totalTime))]):n("p",[e._v("00:00")])]),n("div",{staticClass:"step-btn"},[n("button",{on:{click:e.onPrevSong}},[n("i",{staticClass:"fas fa-step-backward"})]),e.isPlayingNow?n("button",{on:{click:e.pause}},[n("i",{staticClass:"far fa-pause-circle"})]):n("button",{on:{click:e.play}},[n("i",{staticClass:"fas fa-play"})]),n("button",{on:{click:e.onNextSong}},[n("i",{staticClass:"fas fa-step-forward"})])]),n("div",{staticClass:"mute"},[e.isMuted?n("button",{on:{click:e.unmute}},[n("i",{staticClass:"fas fa-volume-mute"})]):n("button",{on:{click:e.mute}},[n("i",{staticClass:"fas fa-volume-up"})])]),n("div",{staticClass:"player-volume"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.volume,expression:"volume"}],attrs:{type:"range",min:"0",max:"100"},domProps:{value:e.volume},on:{input:e.changeVolume,__r:function(t){e.volume=t.target.value}}}),e.volume?n("p",[e._v(e._s(e.volume))]):n("p",[e._v("50")])])],1)])},Y=[],K=(n("c740"),n("fb6a"),{convertSecondsToTime:X});function X(e){var t=0;return e/60>0&&(t=parseInt(e/60,10),e%=60),t/60>0&&(parseInt(t/60,10),t%=60),("0"+t).slice(-2)+":"+("0"+e).slice(-2)}var Z,ee=n("8055"),te=n.n(ee),ne="/",se={setup:ie,terminate:re,on:oe,off:ae,emit:ce};function ie(){Z=te()(ne)}function re(){Z=null}function oe(e,t){Z.on(e,t)}function ae(e,t){Z.off(e,t)}function ce(e,t){Z.emit(e,t)}var le={name:"global-player",data:function(){return{url:"",songId:"",isPlaying:!1,isPause:!1,playerVars:{autoplay:1,origin:window.location.origin},currTime:0,currTimePlaying:0,totalTime:0,totalTimeInput:0,isMuted:!1}},computed:{player:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.youtube.player;case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},getCurrSongPlaying:function(){return this.$store.getters.getCurrSongPlaying},isPlayingNow:function(){return this.$store.getters.getCurrSongIsPlaying},currMix:function(){return this.$store.getters.getMix},timePlaying:function(){return this.currTimePlaying},isPlayingClass:function(){var e=this.$store.getters.getCurrSongIsPlaying;return e?"logo-playing":"logo-stop"}},watch:{getCurrSongPlaying:function(){}},methods:{changeVolume:function(){this.$refs.youtube.player.setVolume(this.volume)},pause:function(){this.$refs.youtube.player.pauseVideo(),this.$store.commit({type:"stopSongPlaying"});var e=this.getCurrSongPlaying.songUrlId,t=this.currMix.songs.findIndex((function(t){return t.songUrlId===e})),n=JSON.parse(JSON.stringify(this.currMix));n.songs[t].isPlaying=!1,this.$store.dispatch({type:"saveMix",mix:n})},play:function(){this.$refs.youtube.player.playVideo(),this.$store.commit({type:"startSongPlaying"});var e=this.getCurrSongPlaying.songUrlId,t=this.currMix.songs.findIndex((function(t){return t.songUrlId===e})),n=JSON.parse(JSON.stringify(this.currMix));n.songs[t].isPlaying=!0,this.$store.dispatch({type:"saveMix",mix:n})},playing:function(e){var t=this;this.totalTimeInput=Math.floor(e.getDuration()),this.totalTime=K.convertSecondsToTime(Math.floor(e.getDuration())),setInterval((function(){t.currTime=K.convertSecondsToTime(Math.floor(e.getCurrentTime())),t.currTimePlaying=Math.floor(e.getCurrentTime()),se.emit("move-to-new-time",t.currTimePlaying)}),1e3)},ended:function(){this.autoPlayNextSong()},autoPlayNextSong:function(){this.currMix.songs.length;var e,t=this.getCurrSongPlaying.songUrlId,n=this.currMix.songs.findIndex((function(e){return e.songUrlId===t}));this.$store.commit({type:"setPrevSongNotPlaying",songIdx:n}),n<this.currMix.songs.length-1?e=this.currMix.songs[n+1]:n===this.currMix.songs.length-1&&(e=this.currMix.songs[0]);var s=e.songUrlId;this.$refs.youtube.player.loadVideoById(s),this.$store.commit({type:"setCurrSong",song:e}),this.$store.commit({type:"startSongPlaying"});var i=JSON.parse(JSON.stringify(this.currMix));i.songs[n].isPlaying=!1,this.$store.dispatch({type:"saveMix",mix:i}),se.emit("next-song",e)},moveTo:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.youtube.player.seekTo(e.currTimePlaying,!0);case 2:se.emit("move-to",e.currTimePlaying);case 3:case"end":return t.stop()}}),t)})))()},onNextSong:function(){this.autoPlayNextSong()},onPrevSong:function(){this.currMix.songs.length;var e,t=this.getCurrSongPlaying.songUrlId,n=this.currMix.songs.findIndex((function(e){return e.songUrlId===t}));n>0?e=this.currMix.songs[n-1]:0===n&&(e=this.currMix.songs[this.currMix.songs.length-1]);var s=e.songUrlId;this.$refs.youtube.player.loadVideoById(s),this.$store.commit({type:"setCurrSong",song:e}),this.$store.commit({type:"startSongPlaying"}),this.$store.commit({type:"setPrevSongNotPlaying",songIdx:n});var i=JSON.parse(JSON.stringify(this.currMix));i.songs[n].isPlaying=!1,this.$store.dispatch({type:"saveMix",mix:i}),se.emit("prev-song",e)},mute:function(){this.isMuted=!0,this.$refs.youtube.player.mute()},unmute:function(){this.isMuted=!1,this.$refs.youtube.player.unMute()}},created:function(){var e=this;us.$on("pause-music",(function(){e.pause()})),us.$on("resume-music",(function(){e.play()})),us.$on("song-time",(function(t){e.$refs.youtube.player.seekTo(t,!0),e.currTimePlaying=t})),us.$on("song-time-sync",(function(t){e.$refs.youtube.player.seekTo(t,!0),e.currTimePlaying=t,console.log("SONGS SYNCED"),us.$off("song-time-sync")}))},destroyed:function(){}},ue=le,ge=Object(g["a"])(ue,Q,Y,!1,null,null,null),me=ge.exports,pe={props:{},data:function(){return{isLoading:!0}},created:function(){this.isLoading=!0,this.$store.dispatch({type:"loadMixes"})},mounted:function(){var e=this;setInterval((function(){e.isLoading=!1}),2e3)},methods:{close:function(){console.log("close screen"),this.isLogin&&(console.log("close screen setLogin"),this.$store.commit({type:"setLogin"})),this.isSignup&&this.$store.commit({type:"setSignup"})}},computed:{currentRouteName:function(){return this.$store.getters.currentRouteName},isLogin:function(){return this.$store.getters.getIsLogin},isSignup:function(){return this.$store.getters.getIsSignup}},components:{mixLogin:p,mixSignup:y,appHeader:M,appFooter:O,globalPlayer:me}},de=pe,fe=(n("5c0b"),Object(g["a"])(de,i,r,!1,null,null,null)),he=fe.exports,xe=n("9483");Object(xe["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var ve=n("8c4f"),ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"mix-app"},[n("mix-home")],1)])},Ce=[],Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"mix-home"},[n("mixHero",{on:{refName:e.scrollMeTo}}),n("div",{staticClass:"top-mixes container"},[n("h2",[e._v(" Top Mixes ")]),e.topMixes?n("ul",{staticClass:"top-mixes"},e._l(e.topMixes,(function(e){return n("li",{key:e._id},[n("mix-preview",{attrs:{mix:e}})],1)})),0):e._e()]),e.geners?n("ul",{ref:"mix-list-home-container",staticClass:"mixes-list-ul"},e._l(e.geners,(function(t,s){return n("li",{key:t,staticClass:"mixes-list-li"},[n("mix-list-Home",{attrs:{genre:e.geners[s]}})],1)})),0):e._e()],1),n("mix-footer")],1)},_e=[],we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{ref:"mix-list-home",staticClass:"mix-list-home container"},[n("div",{ref:"mix-list-home container"},[n("nav",{staticClass:"mixes-nav"},[n("div",{staticClass:"genre-title"},[e._v(e._s(e.genre))]),n("ul",{staticClass:"nav-show-all-ul"},[n("li",{staticClass:"mix-link-show-all",on:{click:function(t){return e.showList(e.genre)}}},[e._v(" Show all "),e._m(0)])])]),e.mixes&&e.genre?[n("VueSlickCarousel",e._b({scopedSlots:e._u([{key:"prevArrow",fn:function(t){return[n("div",{staticClass:"custom-arrow"},[e._v(" "+e._s(t.currentSlide)+"/"+e._s(t.slideCount)+" ")])]}}],null,!1,2816469163)},"VueSlickCarousel",e.settings,!1),e._l(e.mixes,(function(e){return n("li",{key:e._id},[n("mix-preview",{attrs:{mix:e}})],1)})),0)]:e._e()],2)])},be=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("i",{staticClass:"fas fa-angle-double-right"})])}],Me=(n("4de4"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.mix?n("section",{staticClass:"details"},[n("div",{staticClass:"mix"},[n("div",{staticClass:"images",on:{click:function(t){return e.onMixView(e.mix._id)}}},[n("img",{staticClass:"mix-image shadow",attrs:{src:e.mix.imgUrl}}),n("img",{staticClass:"img-frame",attrs:{src:"https://res.cloudinary.com/hw-projects/image/upload/v1606518099/appmixes/logo_frame.png"}})]),n("div",{staticClass:"info"},[n("span",{staticClass:"mix-name",class:e.checkLang},[e._v(e._s(e.mix.name))]),n("span",{staticClass:"mix-desc"},[e._v(e._s(e.mix.desc))]),n("div",{staticClass:"stats"},[n("div",{staticClass:"likes flex"},[n("span",{staticClass:"mix-likes"},[e._v(e._s(e.mix.likes)+" "),n("i",{staticClass:"fas fa-heart"})]),n("span",{staticClass:"mix-views"},[e._v(e._s(e.mix.views)+" "),n("i",{staticClass:"fas fa-eye"})])]),n("span",{staticClass:"mix-amount"},[e._v(e._s(e.songsAmount)+" "),n("i",{staticClass:"fas fa-music"})])])])])]):e._e()}),ke=[],Pe={name:"mix-preview",props:{mix:Object},data:function(){return{currMix:null}},computed:{checkLang:function(){return"israeli"===this.mix.genre?"mix-name isreali":"mix-name"},getMix:function(){return this.$store.getters.getMix},getSong:function(){return this.$store.getters.getCurrSongPlaying},songsAmount:function(){return this.mix.songs.length}},methods:{onMixView:function(e){this.$router.push("/mix/details/".concat(e))}},created:function(){}},$e=Pe,Te=Object(g["a"])($e,Me,ke,!1,null,null,null),Ie=Te.exports,Oe=n("a7ab"),Ne=n.n(Oe),je=(n("7b8d"),n("6a2c"),{name:"mix-list-home",props:{genre:{type:String,default:null}},data:function(){return{a:null,videoId:"BubwLnPcQjc",mixTopA:null,currMix:"",settings:{lazyLoad:"ondemand",dots:!0,infinite:!1,speed:500,slidesToShow:4,slidesToScroll:4,initialSlide:0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}}},computed:{currSongPlaying:function(){return this.$store.getters.getCurrSongPlaying},mixes:function(){var e=this,t=this.$store.getters.getMixesForDisplay;if(t){if(!this.genre)return t;var n=t.filter((function(t){return t.genre.toLowerCase()===e.genre.toLowerCase()}));return n}},getMix:function(){return this.$store.getters.getMix}},methods:{showList:function(e){console.log("genre",e),this.$store.commit({type:"setGenre",genre:e}),this.$router.push("mix/list")}},components:{mixPreview:Ie,VueSlickCarousel:Ne.a},created:function(){}}),Le=je,Ee=Object(g["a"])(Le,we,be,!1,null,null,null),Ue=Ee.exports,Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"hero"},[n("div",{ref:"baba",staticClass:"hero-text-area"},[n("h2",[e._v("Enjoy, Create and Share an awesome mixTape")]),n("div",{staticClass:"buttons"},[n("a",{staticClass:"button start-listening",on:{click:function(t){return e.emitScrollMeTo("mix-list-home-container")}}},[e._v("Start listening")])])]),n("mix-carousel")],1)},De=[],Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-carousel",{attrs:{"indicator-position":"outside",interval:24e3,autoplay:!0}},e._l(e.imgs,(function(e){return n("el-carousel-item",{key:e},[n("img",{staticClass:"left",attrs:{src:e}})])})),1)},Ge=[],He={name:"mix-carosel",data:function(){return{imgs:["https://res.cloudinary.com/hw-projects/image/upload/v1606309308/appmixes/party002.jpg"]}},props:{},components:{},computed:{},created:function(){}},Be=He,Ve=(n("a652"),Object(g["a"])(Be,Ae,Ge,!1,null,null,null)),qe=Ve.exports,Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"video"},[n("video",{ref:"myVideo",attrs:{id:"myVideo",width:"1280",height:"720",autoplay:"",loop:""}},[n("source",{attrs:{src:"https://res.cloudinary.com/hw-projects/video/upload/v1606349974/appmixes/MergedVideo_1_online-video-cutter.com_gqlbzp.mp4",type:"video/mp4"}}),e._v(" Your browser does not support HTML5 video. ")])])},Je=[],ze={data:function(){return{videoId:"lG0Ys-2d4MA"}},methods:{playVideoNative:function(){}},computed:{},created:function(){this.playVideoNative()}},We=ze,Qe=Object(g["a"])(We,Fe,Je,!1,null,null,null),Ye=Qe.exports,Ke={props:{},data:function(){return{}},methods:{emitScrollMeTo:function(e){this.$emit("refName",e)},createNewPlaylist:function(){this.$store.commit({type:"setMixEmpty"}),this.$router.push("mix/details")}},components:{mixCarousel:qe,mixVideoPlayer:Ye},computed:{},created:function(){}},Xe=Ke,Ze=Object(g["a"])(Xe,Re,De,!1,null,null,null),et=Ze.exports,tt={name:"mix-home",data:function(){return{}},components:{mixHero:et,mixListHome:Ue,mixVideo:Ye,globalPlayer:me,mixPreview:Ie,mixFooter:O},computed:{geners:function(){return this.$store.getters.getGeners},topMixes:function(){var e=this.$store.getters.getTopMixes;return console.log("mixes",e),e}},methods:{scrollMeTo:function(e){console.log("scrollMeTo",e);var t=this.$refs[e];console.log("element",t,this.$refs);var n=t.offsetTop;window.scrollTo(0,n)},getMixTop:function(){var e=this.$store.dispatch({type:"getMixByIdPrivate",mixId:"5c013"});console.log("mixTop",e)}},watch:{status:function(e,t){getCurrSongPlaying.isPlaying?console.log("playing"):console.log("Not Playing")}},created:function(){this.$store.dispatch({type:"getTopMixes"})}},nt=tt,st=Object(g["a"])(nt,Se,_e,!1,null,null,null),it=st.exports,rt={data:function(){return{}},computed:{},components:{mixHome:it}},ot=rt,at=Object(g["a"])(ot,ye,Ce,!1,null,null,null),ct=at.exports,lt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.mix?s("section",{staticClass:"mix-details flex"},[s("div",{staticClass:"mix-full-info flex"},[s("section",{staticClass:"header-mix-info flex"},[s("section",{staticClass:"mix-img flex start"},[s("form",[e.isLoading?s("img",{staticClass:"loader",attrs:{src:n("ebb8")}}):[s("div",{staticClass:"update-img-mix"},[s("label",{staticClass:"imgUploader",attrs:{for:"imgUploader"}},[s("img",{attrs:{src:e.currMix.imgUrl}}),e._m(0)])]),s("input",{attrs:{type:"file",name:"img-uploader",id:"imgUploader",hidden:""},on:{change:e.onUploadImg}})]],2)]),s("section",{staticClass:"mix-info-main"},[s("section",{staticClass:"mix-info"},[e.isTitleHide?s("div",{staticClass:"input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.currMix.name,expression:"currMix.name"}],staticClass:"input-title",attrs:{type:"text"},domProps:{value:e.currMix.name},on:{input:function(t){t.target.composing||e.$set(e.currMix,"name",t.target.value)}}}),s("span",{on:{click:function(t){return t.preventDefault(),e.saveChange(e.currMix)}}},[s("i",{staticClass:"far fa-save"})])]):s("h2",{staticClass:"mix-title"},[e._v(" "+e._s(e.currMix.name)),s("span",{staticClass:"edit-txt",on:{click:e.toggleEditTitle}},[s("i",{staticClass:"edit fas fa-pen"})])]),e.isDescHide?s("div",{staticClass:"textarea-container flex"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currMix.desc,expression:"currMix.desc"}],attrs:{name:"desc",id:"desc"},domProps:{value:e.currMix.desc},on:{input:function(t){t.target.composing||e.$set(e.currMix,"desc",t.target.value)}}}),s("span",{on:{click:function(t){return e.saveChange(e.currMix)}}},[s("i",{staticClass:"far fa-save"})])]):s("p",{staticClass:"description"},[e._v(" "+e._s(e.currMix.desc)+" "),s("span",{on:{click:e.toggleEditDesc}},[s("i",{staticClass:"fas fa-pen"})])]),s("div",{staticClass:"mix-genre"},[s("h4",[e._v(e._s(e.currMix.genre))]),s("mix-select-genre",{staticClass:"select-genre",attrs:{selectType:""},on:{selectType:e.setGenre}})],1),s("div",{staticClass:"stats"},[s("div",{staticClass:"mix-views"},[s("h4",[e._v(e._s(e.currMix.views))]),s("i",{staticClass:"fas fa-eye"})]),s("div",{staticClass:"mix-like"},[s("div",{staticClass:"like-song"},[s("span",{staticClass:"likes-count"},[e._v(e._s(e.currMix.likes))]),s("i",{staticClass:"far fa-heart",class:e.heartMode,on:{click:e.addLike}})])])])]),s("section",{staticClass:"user-info"},[s("h5",[s("span",[e._v("Created by: "),s("img",{attrs:{src:e.currMix.createdBy.imgUrl}})]),s("span",[e._v(e._s(e.currMix.createdBy.fullName))])])]),s("section",{staticClass:"general-info"})])]),s("div",{staticClass:"search-and-social"},[s("div",{staticClass:"songs"},[s("mix-song-list",{attrs:{songs:e.currMix.songs,mix:e.currMix},on:{emitRemoveSong:e.removeSongFromMix,emitSongPos:e.changeSongPos,updateMix:e.saveChange}})],1)])]),s("span",{staticClass:"chat-icon",on:{click:e.toggleShow}},[s("i",{staticClass:"far fa-comments"})]),s("div",{staticClass:"mix-chat effect5",class:e.chatMode},[s("mix-chat",{attrs:{mixId:e.roomId}})],1)]):e._e()},ut=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"image-edit-button"},[n("i",{staticClass:"fas fa-pen"})])}],gt=(n("4160"),n("a434"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section")}),mt=[],pt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"songs-list flex column"},[e.mix?s("div",{staticClass:"search-song-and-social-container"},[s("div",{staticClass:"search-and-add"},[s("i",{staticClass:"fas fa-plus-circle",on:{click:e.openInputApi}}),s("i",{staticClass:"fas fa-search",on:{click:e.openInputSearch}}),e.isAdd?s("mixApiSearch"):e._e(),e.isAdd?e._e():s("div",{staticClass:"search-song"},[s("el-input",{attrs:{type:"text",placeholder:"Search song in mix...",clearable:""},on:{input:e.filterBySong},model:{value:e.songTxt,callback:function(t){e.songTxt=t},expression:"songTxt"}})],1)],1),s("mix-social")],1):e._e(),e.mix?s("draggable",{staticClass:"list-group min-height songs-details-main",attrs:{list:e.mix.songs,options:{animation:200},element:"ul"},on:{change:e.update}},e._l(e.mix.songs,(function(t,i){return s("li",{key:t.id,staticClass:"list-group-item",attrs:{"data-id":t.id}},[s("div",{staticClass:"song-container"},[s("div",{staticClass:"songs-details"},[t.isPlaying?s("button",{on:{click:function(n){return e.pauseSong(t)}}},[s("i",{staticClass:"fas fa-pause",class:t.isPlaying?"highlight-color":"default-color"})]):s("button",{on:{click:function(n){e.setCurrSongPlaying(t),e.startSongPlaying(t,e.mix)}}},[s("i",{staticClass:"fas fa-play"})]),s("img",{attrs:{src:t.imgUrl}}),s("p",{class:t.isPlaying?"highlight-color":"default-color"},[e._v(e._s(t.title))]),s("span",{staticClass:"song-duration"},[e._v(e._s(t.duration))])]),t.isPlaying?s("div",{staticClass:"img-equalizer"},[s("img",{attrs:{src:n("e2d4")}})]):e._e(),s("div",{staticClass:"actions"},[s("div",{staticClass:"sort-songs-buttons"},[s("button",{on:{click:function(t){return e.emitSongPos(i,-1)}}},[s("i",{staticClass:"fas fa-sort-up"})]),s("button",{on:{click:function(t){return e.emitSongPos(i,1)}}},[s("i",{staticClass:"fas fa-sort-down"})])]),s("span",{staticClass:"delete-song",on:{click:function(n){return e.emitSongId(t.id)}}},[s("i",{staticClass:"far fa-trash-alt"})])])])])})),0):e._e()],1)},dt=[],ft=(n("caad"),n("d81d"),n("2532"),n("b76a")),ht=n.n(ft),xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"searchTest"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.getSearchResults()}}},[n("el-input",{attrs:{type:"text",placeholder:"Add song to mix...",clearable:""},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),n("span",{on:{click:function(t){return e.getSearchResults()}}},[n("i",{staticClass:"fas fa-search"})])]),e.searchResults?n("div",{staticClass:"searchResults"},[n("ul",e._l(e.searchResults,(function(t){return n("li",{key:t.id.videoId},[n("p",[e._v(e._s(t.snippet.title))]),n("img",{attrs:{src:t.snippet.thumbnails.default.url}}),n("button",{on:{click:function(n){return n.preventDefault(),e.addSongToMix(t)}}},[n("i",{staticClass:"fas fa-plus"})])])})),0)]):e._e()])},vt=[],yt="AIzaSyDwDQqSKJool3yVnvBcsfZtntzi11zi6G0",Ct={query:St};function St(e){return _t.apply(this,arguments)}function _t(){return _t=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=5&q=".concat(t,"&type=video&key=").concat(yt));case 2:return n=e.sent,e.abrupt("return",n.data.items);case 4:case"end":return e.stop()}}),e)}))),_t.apply(this,arguments)}var wt={data:function(){return{keyword:"",searchResults:null,createNewSong:A.createNewSong(),currMix:null,song:[{id:{videoId:"D2heCoIKa1U"},snippet:{thumbnails:{default:{url:"https://i.ytimg.com/vi/D2heCoIKa1U/default.jpg"}},title:"Natanael Cano x Ovi x Snoop Dogg x Snow Tha Product x CNG - Feeling Good [Official Video]"}}]}},computed:{getCurrMix:function(){return this.currMix=this.$store.getters.getMix,this.currMix}},methods:{getSearchResults:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.keyword){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Ct.query(e.keyword);case 4:return n=t.sent,e.searchResults=n,console.log("SERACH RESULT : ",e.searchResults),t.abrupt("return",e.searchResults);case 8:case"end":return t.stop()}}),t)})))()},addSongToMix:function(e){var t=JSON.parse(JSON.stringify(this.getCurrMix));this.createNewSong.title=e.snippet.title,this.createNewSong.songUrlId=e.id.videoId,this.createNewSong.imgUrl=e.snippet.thumbnails.default.url,t.songs.unshift(this.createNewSong),this.$store.dispatch({type:"saveMix",mix:t}),se.emit("mix-updated",t),this.createNewSong=A.createNewSong()}},created:function(){}},bt=wt,Mt=Object(g["a"])(bt,xt,vt,!1,null,null,null),kt=Mt.exports,Pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-song-and-social"},[n("section",{staticClass:"mix-social flex space-between"},[n("div",{staticClass:"share-container flex"},[n("div",{staticClass:"invite"}),n("div",{staticClass:"mix-social-nav flex space-evenly"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneNumber,expression:"phoneNumber"}],attrs:{placeholder:"Messege to...",name:"phone-number",type:"number"},domProps:{value:e.phoneNumber},on:{input:function(t){t.target.composing||(e.phoneNumber=t.target.value)}}}),n("a",{attrs:{href:"https://wa.me/972"+this.phoneNumber+"?text=Hi%20there%20check%20this%20mixTape%20"+this.linkToSendEdited,target:"_blank"}},[n("i",{staticClass:"fab fa-whatsapp"})]),n("a",{on:{click:e.shareOnFB}},[n("i",{staticClass:"fab fa-facebook-square"})])])])])])},$t=[],Tt=(n("ac1f"),n("5319"),n("9911"),n("bc3a")),It={name:"mix-social",props:{mix:Object},data:function(){return{phoneNumber:null,link:"https://awesome-mixtape.herokuapp.com/#/mix/details/5fcc9d2ae69386fbefff032c",linkToSend:null}},methods:{shareOnFB:function(){var e=this.link;console.log("link",e),window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(e))},sendwMsg:function(){if(console.log(this.phoneNumber),console.log(window.location.href),this.phoneNumber){var e=this.phoneNumber;window.location.href;Tt.post("https://wa.me/".concat(e,"?text=hi%20there%20"),{headers:{"Access-Control-Allow-Origin":"*"}})}}},computed:{},components:{},created:function(){this.linkToSend=window.location.href,this.linkToSendEdited=this.linkToSend.replace("#/",""),console.log("this.linkToSend",this.linkToSendEdited)}},Ot=It,Nt=(n("96ca"),Object(g["a"])(Ot,Pt,$t,!1,null,"2e20887f",null)),jt=Nt.exports,Lt={name:"mix-song-list",props:{songs:Array},data:function(){return{songId:null,isAdd:!1,isPlaying:!1,mixCopy:null,songTxt:"",songsListDragable:null,songForDev:{title:"Mac Miller - Good News",id:"i6Hdm",songUrlId:"aIHF7u9Wwiw",imgUrl:"https://i.ytimg.com/vi/aIHF7u9Wwiw/default.jpg",addedBy:"minimal-user",duration:"3:21",isPlaying:!1}}},computed:{mix:function(){var e=this.$store.getters.getMix;if(e)return this.mixCopy=JSON.parse(JSON.stringify(e)),this.mixCopy},isNowPlaying:function(){return this.$store.getters.getThisIsPlaying},currSongPlaying:function(){return this.$store.getters.getCurrSongPlaying},getMix:function(){return this.$store.getters.getMix},filterBySong:function(){var e=this,t=this.mix;if(t){var n=JSON.parse(JSON.stringify(t));return this.songTxt?n.songs.filter((function(t){return t.title.toLowerCase().includes(e.songTxt.toLowerCase())})):n.songs}},isSongPlaying:function(){return this.$store.getters.getCurrSongIsPlaying}},methods:{onAdd:function(e,t){var n=e.item.getAttribute("data-id");console.log("id",n)},update:function(){this.mix.songs.map((function(e,t){e.order=t+1})),this.$store.dispatch({type:"saveMix",mix:this.mix}),se.emit("mix-updated",this.mix),console.log("filterBySong",this.mix)},onResize:function(e,t,n,s){this.x=e,this.y=t,this.width=n,this.height=s},onDrag:function(e,t){this.x=e,this.y=t},stopDrag:function(e){console.log("stopDrag",this.filterBySong,e),this.$emit("updateMix",this.mixCopy)},emitSongPos:function(e,t){this.$emit("emitSongPos",{songIdx:e,diff:t})},emitSongId:function(e){this.$emit("emitRemoveSong",e)},setIsPlaying:function(){this.$store.commit({type:"nowPlaying",isPlaying:this.isPlaying})},setCurrSongPlaying:function(e){this.$store.commit({type:"setCurrSong",song:e})},startSongPlaying:function(e,t){this.$store.commit({type:"setCurrSong",song:e}),us.$emit("resume-music");t=JSON.parse(JSON.stringify(this.getMix));var n=this.currSongPlaying.songUrlId,s=this.getMix.songs.findIndex((function(e){return e.songUrlId===n}));t.songs.forEach((function(e){return e.isPlaying=!1})),t.songs[s].isPlaying=!0,console.log("AONG SONGS SONGS :",t.songs),this.$store.dispatch({type:"saveMix",mix:t}),se.emit("set-song-playing",this.currSongPlaying)},pauseSong:function(e){us.$emit("pause-music"),this.$store.commit({type:"stopSongPlaying",song:e});var t=this.currSongPlaying.songUrlId,n=this.getMix.songs.findIndex((function(e){return e.songUrlId===t})),s=JSON.parse(JSON.stringify(this.getMix));s.songs[n].isPlaying=!1,this.$store.dispatch({type:"saveMix",mix:s}),se.emit("pause-song-playing",this.currSongPlaying)},openInputApi:function(){this.isAdd=!0},openInputSearch:function(){this.isAdd=!1}},created:function(){var e=this;console.log("created",this.songForDev),se.on("play-song",(function(t){e.$store.commit({type:"setCurrSong",song:t})})),se.on("song-time",(function(e){us.$emit("song-time",e)})),se.on("pause-song",(function(e){us.$emit("pause-music")}))},components:{mixApiSearch:kt,draggable:ht.a,mixSocial:jt}},Et=Lt,Ut=(n("ae48"),Object(g["a"])(Et,pt,dt,!1,null,null,null)),Rt=Ut.exports,Dt={},At=Dt,Gt=Object(g["a"])(At,gt,mt,!1,null,null,null),Ht=Gt.exports,Bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"chat-app"},[n("marquee-text",[e.getSong?n("div",{staticClass:"now-playing"},[n("p",[n("span",[e._v(" Now Playing - ")]),e._v(" "+e._s(e.getSong.title))])]):e._e()]),n("div",{staticClass:"chat-msgs"},[n("ul",[e._l(e.msgsHistory,(function(t,s){return n("li",{key:s+t},[t.txt?n("p",{staticClass:"msg"},[e._v(e._s(t.name)+": "+e._s(t.txt))]):e._e(),t.gif?n("div",[e._v(" "+e._s(t.name)+": "),n("img",{staticClass:"gif",attrs:{src:t.gif}})]):e._e()])})),e._l(e.msgs,(function(t,s){return n("li",{key:s},[t.txt?n("p",{staticClass:"msg"},[e._v(e._s(t.name)+": "+e._s(t.txt))]):e._e(),t.gif?n("div",[e._v(" "+e._s(t.name)+": "),n("img",{staticClass:"gif",attrs:{src:t.gif}})]):e._e()])}))],2)]),n("div",{staticClass:"chat-form raised"},[e.isTyping?n("p",{staticClass:"some-typing"},[e._v("Someone typing...")]):e._e(),n("form",{on:{submit:function(t){return t.preventDefault(),e.sendMsg(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.msg.txt,expression:"msg.txt"}],attrs:{type:"text",placeholder:"Share your thoughts..."},domProps:{value:e.msg.txt},on:{keydown:e.isTypingNow,keyup:e.isNotTypingNow,input:function(t){t.target.composing||e.$set(e.msg,"txt",t.target.value)}}}),e._m(0),n("select",{directives:[{name:"model",rawName:"v-model",value:e.msg.txt,expression:"msg.txt"}],staticClass:"emojis",attrs:{name:"emojis"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.msg,"txt",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"",selected:"",disabled:"",hidden:""}},[e._v(" "+e._s(e.chatEmojis[1])+" ")]),e._l(e.chatEmojis,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.msg.gif,expression:"msg.gif"}],staticClass:"gif-select",attrs:{name:"gifs"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.msg,"gif",t.target.multiple?n:n[0])},e.sendMsg]}},[n("option",{staticClass:"gif-option",attrs:{value:"",selected:"",disabled:"",hidden:""}},[e._v(" GIF ")]),e._l(e.gifs,(function(t,s){return n("option",{key:t,domProps:{value:t}},[e._v(" GIF#"+e._s(s)+" ")])}))],2),n("button",{on:{click:e.clearChat}},[n("i",{staticClass:"far fa-trash-alt"})])])])],1)},Vt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",[n("i",{staticClass:"far fa-paper-plane"})])}],qt=(n("b0c0"),{props:{mixId:String},data:function(){return{msg:{name:null,txt:"",gif:""},msgsHistory:[],msgs:[],gifsList:[],gif:"",room:this.mixId,isTyping:!1,chatEmojis:["ð¤","ð","ð","ð","ð»","ðº","ð","ð¤©","ð¥³","ð½","ð¤"],users:null,gifs:["https://www.icegif.com/wp-content/uploads/dancing-icegif-3.gif","https://media0.giphy.com/media/Qz5jqYCH9l5t4Dz1Di/giphy.gif","https://gif-free.com/uploads/posts/2017-11/1509959847_snoopy-dancing.gif","https://www.askideas.com/media/08/Funny-Dancing-Gif-Image.gif","https://media4.giphy.com/media/e7QR593l1Vl94uqs9x/source.gif","https://media4.giphy.com/media/l3V0pGcu4HosNs57a/source.gif","https://media1.giphy.com/media/4QFzDdeLmo19MTm9AF/source.gif","https://i.pinimg.com/originals/5a/c5/50/5ac550d16dc31f593fd3b316eaf47d42.gif","https://media2.giphy.com/media/3o7qE2VAxuXWeyvJIY/giphy.gif","https://dancegifs.com/wp-content/uploads/2019/12/giphy-1.gif","https://25.media.tumblr.com/a0621edc06165983d99c2986b1f815a8/tumblr_mhj0cxDe8A1qgy528o1_400.gif"]}},computed:{getSong:function(){return this.$store.getters.getCurrSongPlaying},getUser:function(){return this.$store.getters.getLoggedinUser}},mounted:function(){console.log("userrrrrrrrrrrrr",this.getUser)},methods:{sendMsgWhatsapp:function(){this.$store.dispatch({type:"sendMsgWhatsApp"})},sendMsg:function(){this.getUser?this.msg.name=this.getUser.username:this.msg.name="Guest",se.emit("send message",{msg:this.msg,roomId:this.room}),this.msg.txt="",this.msg.gif="",this.msg.name=""},isTypingNow:function(){se.emit("is typing",this.isTyping),this.isTyping=!0},isNotTypingNow:function(){se.emit("is not typing",this.isTyping),this.isTyping=!1},clearChat:function(){this.msgs=[],this.msgsHistory=[],se.emit("clear chat")}},created:function(){var e=this;se.on("chat message",(function(t){e.msgs.unshift(t)})),se.on("type msg",(function(t){e.isTyping=!0})),se.on("stop type msg",(function(t){e.isTyping=!1})),se.on("message history",(function(t){t.filter((function(t){t.roomId===e.mixId&&e.msgsHistory.unshift(t.msg)}))})),se.on("user joined",(function(t){e.msgs.push(t),console.log("username ",t)})),se.on("getCount",(function(t){e.users=t})),se.on("clear-all-chat",(function(){e.msgs=[],e.msgsHistory=[]}))}}),Ft=qt,Jt=Object(g["a"])(Ft,Bt,Vt,!1,null,null,null),zt=Jt.exports,Wt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",{attrs:{placeholder:"Select"},on:{change:e.onSelect},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)},Qt=[],Yt={data:function(){return{options:[{value:"funk",label:"funk"},{value:"pop",label:"pop"},{value:"rock",label:"rock"},{value:"israeli",label:"israeli"},{value:"Techno",label:"Techno"},{value:"Soundtrack",label:"Soundtrack"}],value:""}},methods:{onSelect:function(e){console.log("select",e),this.$emit("selectType",e)}}},Kt=Yt,Xt=Object(g["a"])(Kt,Wt,Qt,!1,null,null,null),Zt=Xt.exports,en=(n("d3b7"),function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,s,i,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="appmixes",s="hw-projects",i="https://api.cloudinary.com/v1_1/".concat(s,"/image/upload"),r=new FormData,r.append("file",t.target.files[0]),r.append("upload_preset",n),e.prev=6,e.next=9,fetch(i,{method:"POST",body:r});case 9:return o=e.sent,e.abrupt("return",o.json());case 13:e.prev=13,e.t0=e["catch"](6),console.error("ERROR!",e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}()),tn={data:function(){return{chatIsShow:!0,isConnected:!1,songTime:0,imgUrls:[],isTitleHide:!1,isDescHide:!1,isLoading:!1,songTxt:"",currMix:"",newMix:{name:"Mix Name",desc:"Mix description",genre:"genre",isLiked:!1,imgUrl:"https://res.cloudinary.com/hw-projects/image/upload/v1606479695/appmixes/logo_r_animated_v3_first_Frame.jpg",likes:0,tags:["Funk","Happy"],createdBy:{_id:"u101",fullName:"guest ".concat(this._id),imgUrl:"https://res.cloudinary.com/hw-projects/image/upload/v1606654351/appmixes/user_headphones.png"},likedByUsers:[],songs:[{title:"songs goes here",id:"i6Hdm",songUrlId:"",imgUrl:"https://i.ytimg.com/vi/aIHF7u9Wwiw/default.jpg",addedBy:"minimal-user",duration:"0:00",isPlaying:!1}]}}},computed:{getMix:function(){return this.$store.getters.getMix?this.$store.getters.getMix:this.newMix},roomId:function(){return this.$route.params.mixId},currSongPlaying:function(){return this.$store.getters.getCurrSongPlaying},mix:function(){return this.$store.getters.getMix?(this.currMix=JSON.parse(JSON.stringify(this.$store.getters.getMix)),this.$store.getters.getMix):(this.currMix=this.newMix,console.log("this.currMix",this.currMix),this.$store.dispatch({type:"saveMix",mix:this.currMix}),this.currMix)},user:function(){var e=this.$store.getters.getLoggedinUser;return e},heartMode:function(){return this.currMix.isLiked?"fas fa-heart":"far fa-heart"},chatMode:function(){return this.chatIsShow?"display-chat":"hide-chat"}},methods:{saveMix:function(e){this.$store.dispatch({type:"saveMix",mix:e}),se.emit("mix-updated",e)},startSongOnPreview:function(){var e=this;this.currSongPlaying?(this.currMix.songs.forEach((function(e){return e.isPlaying=!1})),this.currMix.songs.forEach((function(t){t.id===e.currSongPlaying.id&&(t.isPlaying=!0)}))):(this.currMix.songs.forEach((function(e){return e.isPlaying=!1})),this.currMix.songs[0].isPlaying=!0,this.$store.commit({type:"setCurrSong",song:this.currMix.songs[0]}))},changeSongPos:function(e){var t=this.currMix.songs.length;if((0!==e.songIdx||-1!==e.diff)&&(e.songIdx!==t||1!==e.diff)){var n=this.currMix.songs,s=e.songIdx,i=e.songIdx+e.diff;console.log("changeSongPos",n,s,i);var r=1,o=n.splice(s,r)[0];r=0,n.splice(i,r,o),this.saveMix(this.currMix)}},setGenre:function(e){this.currMix.genre=e},toggleEditTitle:function(){this.isTitleHide=!this.isTitleHide},toggleEditDesc:function(){this.isDescHide=!this.isDescHide},saveChange:function(e){console.log("saveChange",e),this.saveMix(e),this.isTitleHide=!1,this.isDescHide=!1},removeSongFromMix:function(e){var t=this.currMix.songs.findIndex((function(t){return t.id===e}));this.currMix.songs.splice(t,1),this.saveMix(this.currMix)},addLike:function(){this.currMix.isLiked?(this.currMix.isLiked=!1,this.currMix.likes--,this.saveMix(this.currMix)):(this.currMix.isLiked=!0,this.currMix.likes++,this.saveMix(this.currMix))},onUploadImg:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.isLoading=!0,n.next=3,en(e);case 3:s=n.sent,t.imgUrls.push(s.url),t.currMix&&(console.log("updating item img url"),t.currMix.imgUrl=s.url),t.isLoading=!1,t.saveMix(t.currMix);case 8:case"end":return n.stop()}}),n)})))()},updateViews:function(){this.currMix.views++,this.saveMix(this.currMix)},reload:function(){this.$forceUpdate()},playSongOnStart:function(){var e,t=0;this.getMix&&(this.mix.songs.forEach((function(n){n.isPlaying&&(t++,e=n)})),t>0?(se.emit("send-song-to-all",e),se.on("song-time-new",(function(e){us.$emit("song-time-sync",e)}))):se.emit("send-song-to-all",this.getMix.songs[0]))},getSongTime:function(){us.$emit("getTime")},toggleShow:function(){this.chatIsShow=!this.chatIsShow}},components:{mixChat:zt,mixSongList:Rt,mixPlayer:Ht,mixSelectGenre:Zt,mixSocial:jt},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isConnected||(se.setup(),e.isConnected=!0),se.emit("join room",e.$route.params.mixId),console.log("details joined room ",e.$route.params.mixId),!e.$route.params.mixId){t.next=8;break}return n=e.$route.params.mixId,t.next=7,e.$store.dispatch({type:"getMixById",mixId:n});case 7:e.updateViews();case 8:se.on("play-song",(function(t){var n=JSON.parse(JSON.stringify(e.getMix));n.songs.forEach((function(e){return e.isPlaying=!1})),e.currSongPlaying&&(n.songs.forEach((function(t){t.id===e.currSongPlaying.id&&(t.isPlaying=!0,e.isMixPlaying=!0)})),e.$store.dispatch({type:"saveMix",mix:n}))})),e.playSongOnStart(),se.on("mix-is-updated",(function(t){e.$store.dispatch({type:"saveMix",mix:t}),e.$store.dispatch({type:"loadMixes",mix:t})}));case 11:case"end":return t.stop()}}),t)})))()}},nn=tn,sn=Object(g["a"])(nn,lt,ut,!1,null,null,null),rn=sn.exports,on=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"chat-room flex column grow space-between"},[n("div",{staticClass:"chat-msgs"},e._l(e.msgs,(function(t,s){return n("ul",{key:s,staticClass:"clean-list"},[n("li",{staticClass:"msg-text"},[e._v(e._s(t.txt))])])})),0),n("form",[n("div",{staticClass:"user-msg flex"},[n("el-input",{attrs:{type:"text",placeholder:"Send a message"},model:{value:e.msg.txt,callback:function(t){e.$set(e.msg,"txt",t)},expression:"msg.txt"}}),n("button",{staticClass:"btn send-msg",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.onSendMsg(e.msg)}}},[n("img",{attrs:{src:"https://res.cloudinary.com/hw-projects/image/upload/v1606416732/appmixes/send-messege_s_red_my4iaj.png"}})])],1)])])},an=[],cn={props:{},data:function(){return{msgs:[],msg:{from:"",txt:""}}},methods:{},created:function(){}},ln=cn,un=Object(g["a"])(ln,on,an,!1,null,null,null),gn=(un.exports,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"mix-list-page container"},[n("div",{staticClass:"input-list flex"},[n("el-input",{attrs:{type:"text",placeholder:"Search song...",clearable:""},model:{value:e.filterBySongName,callback:function(t){e.filterBySongName=t},expression:"filterBySongName"}}),e._m(0)],1),n("nav",{staticClass:"nav-genres"},[n("li",{staticClass:"mix-link-all",on:{click:e.setGenreShowAll}},[e._v("All mixes")]),n("list-genres-carusselv",{staticClass:"list-genres-carussel",on:{setGenre:e.onSetGenre}})],1),n("ul",{staticClass:"ul-mixes"},e._l(e.mixes,(function(e){return n("li",{key:e._id,staticClass:"mix"},[n("mix-preview",{attrs:{mix:e}})],1)})),0)])}),mn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("i",{staticClass:"fas fa-search"})])}],pn=(n("45fc"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("VueSlickCarousel",e._b({scopedSlots:e._u([{key:"prevArrow",fn:function(t){return[n("div",{staticClass:"custom-arrow"},[e._v(" "+e._s(t.currentSlide)+"/"+e._s(t.slideCount)+" ")])]}}])},"VueSlickCarousel",e.settings,!1),e._l(e.geners,(function(t){return n("ul",{key:t,staticClass:"mixes-nav-ul"},[n("li",{staticClass:"mix-link",on:{click:function(n){return e.onEmitSetGenre(t)}}},[e._v(e._s(t))])])})),0)}),dn=[],fn={props:{mixes:{type:Array,default:null}},data:function(){return{settings:{dots:!0,infinite:!1,speed:500,slidesToShow:8,slidesToScroll:8,initialSlide:0,centerPadding:"40px",centerMode:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:8,slidesToScroll:8,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}}},computed:{geners:function(){return this.$store.getters.getGeners}},methods:{onEmitSetGenre:function(e){console.log("genre",e),this.$emit("setGenre",e)},next:function(){this.$refs.slick.next()},prev:function(){this.$refs.slick.prev()},reInit:function(){var e=this;this.$nextTick((function(){e.$refs.slick.reSlick()}))}},components:{VueSlickCarousel:Ne.a},created:function(){}},hn=fn,xn=Object(g["a"])(hn,pn,dn,!1,null,null,null),vn=xn.exports,yn={name:"mix-list",props:{},data:function(){return{filterBySongName:"",genre:"all"}},computed:{mixes:function(){var e=this,t=this.$store.getters.getMixesForDisplay;console.log("mixes",t);var n=t;return"all"!==this.genre&&(n=n.filter((function(t){return t.genre.toLowerCase()===e.genre}))),n.filter((function(t){return t.songs.some((function(t){return t.title.toLowerCase().includes(e.filterBySongName.toLowerCase())}))}))},getGenreToDisplay:function(){return this.$store.getters.getGenreToDisplay}},methods:{setGenreShowAll:function(){this.genre="all"},setGenre:function(){this.genre=this.$store.getters.getGenreToDisplay},onSetGenre:function(e){console.log("setGenre",e),this.genre=e},onListSetFilter:function(e){this.$store.commit({type:"setGenre",genre:e})},showList:function(e){this.genre=e,this.$router.push("mix/list")}},components:{mixPreview:Ie,listGenresCarusselv:vn},created:function(){console.log("this.$store.getters.getGenreToDisplay",this.$store.getters.getGenreToDisplay),this.$store.dispatch({type:"loadMixes"}),this.setGenre()}},Cn=yn,Sn=Object(g["a"])(Cn,gn,mn,!1,null,null,null),_n=Sn.exports;s["default"].use(ve["a"]);var wn=[{path:"/",component:ct},{path:"/login",component:p},{path:"/signup",component:y},{path:"/mix/list",component:_n},{path:"/test",component:Ht},{path:"/mix/details",component:rn},{path:"/mix/details/:mixId",component:rn}],bn=new ve["a"]({routes:wn}),Mn=bn,kn=n("2f62"),Pn={sendMsg:On},$n=n("bc3a"),Tn={from:"447537404817",to:["972506555525"],body:"This is a test message from your Sinch account"},In={headers:{"Content-Type":"application/json",Authorization:"Bearer d6d3b4484bfb4e8a9fde393100d9ce6e"}};function On(){console.log("send msg"),$n.post("http://sms.api.sinch.com/xms/v1/a4e710cc9a8f4ad1a6d6985369fa0afe/batches",Tn,In).then((function(e){console.log(e)})).catch((function(e){console.error(e)}))}var Nn="your-received-bot-id",jn="your-phone-number-which-is-whatsapp-enabled",Ln="your-received-bearer-token",En="https://us1.whatsapp.api.sinch.com/whatsapp/v1/"+Nn+"/messages",Un={to:[jn],message:{type:"template",template_name:"sinch_tutorial",params:["<recipient_name>"]}},Rn={method:"POST",headers:{Authorization:"Bearer "+Ln,"Content-Type":"application/json"},body:JSON.stringify(Un),json:!0};fetch(En,Rn).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}));var Dn={state:{mixes:null,topMixes:null,genre:"all",currMix:null,currSongPlaying:null,isPlaying:!1,geners:["funk","pop","rock","electro","classic","israeli","techno","trance"]},getters:{getMixesForDisplay:function(e){return e.mixes},getGenreToDisplay:function(e){return e.genre},getCurrSongPlaying:function(e){return e.currSongPlaying},getMix:function(e){return e.currMix},getThisIsPlaying:function(e){return e.isPlaying},getCurrSongIsPlaying:function(e){if(e.currSongPlaying)return e.currSongPlaying.isPlaying},getTopMixes:function(e){return e.topMixes},getGeners:function(e){return e.geners},currentRouteName:function(){return this.$route.name}},mutations:{setSortedMixes:function(e,t){var n="likes",s=t.mixes.sort((function(e,t){var s=e[n],i=t[n];return i-s})),i=s.slice(0,3);e.topMixes=i},setMixes:function(e,t){e.mixes=t.mixes},setGenre:function(e,t){e.genre=t.genre,console.log("setGenre",e.genre)},setCurrSong:function(e,t){e.currSongPlaying=t.song,e.currSongPlaying.isPlaying=!0},removeCurrSong:function(e,t){var n=e.mixes[e.currMix._id].songs.findIndex((function(e){return e.id===t.song.id}));e.mixes[e.currMix._id].songs.splice(n,1),console.log(e.mixes[e.currMix._id].songs)},setMix:function(e,t){e.currMix=t.mix},setMixEmpty:function(e,t){e.currMix=null},nowPlaying:function(e,t){e.isPlaying=t.isPlaying},stopSongPlaying:function(e,t){e.currSongPlaying.isPlaying=!1},startSongPlaying:function(e,t){e.currSongPlaying.isPlaying=!0},stopAllPlaying:function(e,t){t.songs.forEach((function(e){e.id!==t.song.id&&(e.isPlaying=!1)}))},setPrevSongNotPlaying:function(e,t){e.currMix.songs[t.songIdx].isPlaying=!1},resetIconsState:function(e){e.currMix.songs.forEach((function(e){return e.isPlaying=!1}))}},actions:{sendMsgWhatsApp:function(e){return Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Pn.sendMsg();case 2:t=e.sent,console.log("msgs",t);case 4:case"end":return e.stop()}}),e)})))()},getTopMixes:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.query();case 2:n=t.sent,e.commit({type:"setSortedMixes",mixes:n});case 4:case"end":return t.stop()}}),t)})))()},getMixById:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.mixId,n.next=3,A.getById(s);case 3:i=n.sent,e.commit({type:"setMix",mix:i});case 5:case"end":return n.stop()}}),n)})))()},loadMixes:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A.query();case 2:return n=t.sent,e.commit({type:"setMixes",mixes:n}),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))()},getSongById:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,A.getSongByIdAndMix(t.songId,t.mixId);case 2:return s=n.sent,e.commit({type:"setCurrSong",song:s}),n.abrupt("return",s);case 5:case"end":return n.stop()}}),n)})))()},saveMix:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,A.update(t.mix);case 2:return s=n.sent,e.commit({type:"setMix",mix:s}),n.abrupt("return",s);case 5:case"end":return n.stop()}}),n)})))()},sortByNumber:function(e,t){console.log("sort"),e.sort((function(e,n){var s=e[t],i=n[t];return s-i}))}}},An={query:Gn,getById:Hn,remove:Bn,save:Vn,update:qn,login:Fn,logout:zn,signup:Qn};function Gn(){return U.get("user")}function Hn(e){return U.get("user/".concat(e))}function Bn(e){return U.delete("user/".concat(e))}function Vn(e){return U.post("user",e)}function qn(e){return U.put("user/".concat(e._id),e)}function Fn(e){return Jn.apply(this,arguments)}function Jn(){return Jn=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U.post("auth/login",t);case 2:return n=e.sent,e.abrupt("return",Kn(n));case 4:case"end":return e.stop()}}),e)}))),Jn.apply(this,arguments)}function zn(){return Wn.apply(this,arguments)}function Wn(){return Wn=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)}))),Wn.apply(this,arguments)}function Qn(e){return Yn.apply(this,arguments)}function Yn(){return Yn=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U.post("auth/signup",t);case 2:return n=e.sent,e.abrupt("return",Kn(n));case 4:case"end":return e.stop()}}),e)}))),Yn.apply(this,arguments)}function Kn(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}var Xn={state:{loggedinUser:null,users:[],isLogin:!1,isSignup:!1},getters:{getLoggedinUser:function(e){return e.loggedinUser},isAdmin:function(){},getIsLogin:function(e){return e.isLogin},getIsSignup:function(e){return e.isSignup},getUsers:function(e){return e.users}},mutations:{setUser:function(e,t){var n=t.user;e.loggedinUser=n},setUsers:function(e,t){var n=t.users;e.users=n},setLogin:function(e){e.isLogin=!e.isLogin,e.isSignup=!1},setSignup:function(e){e.isSignup=!e.isSignup,e.isLogin=!1}},actions:{login:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("userCred",t.userCred),n.next=3,An.login(t.userCred);case 3:return s=n.sent,console.log("login() user",s),e.commit({type:"setUser",user:s}),n.abrupt("return",s);case 7:case"end":return n.stop()}}),n)})))()},logout:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,An.logout();case 2:e.commit({type:"setUsers",users:[]}),e.commit({type:"setUser",user:null});case 4:case"end":return t.stop()}}),t)})))()},signup:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.userCred,n.next=3,An.signup(s);case 3:return i=n.sent,e.commit({type:"setUser",user:i}),n.abrupt("return",i);case 6:case"end":return n.stop()}}),n)})))()}}},Zn={state:{},getters:{},mutations:{},actions:{sendMsg:function(e,t){var n=t.msg;se.emit("sendMsg",n)},getChatHistory:function(e,t){var n=t.chatId;se.emit("getHistory",n)}}};s["default"].use(kn["a"]);var es=new kn["a"].Store({strict:!0,state:{},mutations:{},actions:{},modules:{mixStore:Dn,userStore:Xn,socketStore:Zn}}),ts=(n("3c61"),n("5c96")),ns=n.n(ts),ss=(n("0fae"),n("e0ec")),is=n.n(ss),rs=(n("0a63"),n("0150")),os=n.n(rs),as=n("fb19"),cs=n.n(as);n("278f");s["default"].component("marquee-text",os.a),s["default"].use(is.a),s["default"].use(ns.a),s["default"].component("vue-draggable-resizable",cs.a);var ls=new s["default"],us=ls;new s["default"]({router:Mn,store:es,render:function(e){return e(he)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"96ca":function(e,t,n){"use strict";n("5248")},"9bcc":function(e,t,n){},"9c0c":function(e,t,n){},a38d:function(e,t,n){e.exports=n.p+"img/logo_r_animated_v3.aa826bd1.gif"},a652:function(e,t,n){"use strict";n("3010")},ae48:function(e,t,n){"use strict";n("f6a1")},e2d4:function(e,t,n){e.exports=n.p+"img/equalizer.3a179951.gif"},ebb8:function(e,t,n){e.exports=n.p+"img/loader.b9d145de.gif"},f6a1:function(e,t,n){},f8e7:function(e,t,n){"use strict";n("9bcc")}});
//# sourceMappingURL=app.8d0e482f.js.map