(function(t){function e(e){for(var s,o,a=e[0],c=e[1],u=e[2],g=0,m=[];g<a.length;g++)o=a[g],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(m.length)m.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],s=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(s=!1)}s&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},i={app:0},r=[];function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1:function(t,e){},3010:function(t,e,n){},"3c61":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e),n.d(e,"eventBus",(function(){return Zn}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t.isLogin||t.isSignup?s("div",{staticClass:"screen",on:{click:function(e){return e.preventDefault(),t.close(e)}}}):t._e(),t.isLogin?s("mix-login",{staticClass:"centered"}):t._e(),t.isSignup?s("mix-signup",{staticClass:"centered"}):t._e(),s("appHeader"),t.isLoading?s("div",{staticClass:"loader reflect"},[s("img",{attrs:{src:n("a38d")}})]):s("div",[s("router-view"),s("div",{staticClass:"global"},[s("globalPlayer")],1)],1)],1)},r=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loggedinUser?t._e():n("section",{staticClass:"login-user"},[n("div",{staticClass:"header-login"},[n("button",{staticClass:"close"},[n("i",{staticClass:"fas fa-times",on:{click:function(e){return e.preventDefault(),t.close(e)}}})]),n("h2",[t._v("login")])]),n("div",{staticClass:"checkLogin"},[n("form",{on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}}},[n("el-input",{attrs:{type:"text",placeholder:"User name",required:"",clearable:""},model:{value:t.cerdentials.email,callback:function(e){t.$set(t.cerdentials,"email",e)},expression:"cerdentials.email"}}),n("el-input",{attrs:{type:"text",placeholder:"Password","show-password":"",required:"",clearable:""},model:{value:t.cerdentials.password,callback:function(e){t.$set(t.cerdentials,"password",e)},expression:"cerdentials.password"}}),n("el-button",{attrs:{type:"success"},on:{click:function(e){return e.preventDefault(),t.login(e)}}},[t._v("Login")])],1)])])},a=[],c={name:"login",data:function(){return{cerdentials:{email:"",password:""}}},computed:{loggedinUser:function(){var t=this.$store.getters.getLoggedinUser;return console.log("user",t),t},isLogin:function(){return this.$store.getters.getIsLogin},isSignup:function(){return this.$store.getters.getIsSignup}},created:function(){},methods:{login:function(){console.log("here"),this.$store.dispatch({type:"login",userCred:this.cerdentials})},close:function(){console.log("close screen"),this.isLogin&&(console.log("close screen setLogin"),this.$store.commit({type:"setLogin"})),this.isSignup&&this.$store.commit({type:"setSignup"})}},watch:{}},u=c,l=n("2877"),g=Object(l["a"])(u,o,a,!1,null,null,null),m=g.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loggedinUser?t._e():n("section",{staticClass:"signup-user"},[n("div",{staticClass:"header-login"},[n("button",{staticClass:"close"},[n("i",{staticClass:"fas fa-times",on:{click:function(e){return e.preventDefault(),t.close(e)}}})]),n("h2",[t._v("Signup")])]),n("div",{staticClass:"checkLogin"},[n("form",{on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signup(e)}}},[n("div",{staticClass:"rub"},[n("span",{staticClass:"req"},[t._v("*")]),n("el-input",{attrs:{type:"email",placeholder:"Email",required:"",clearable:""},model:{value:t.cerdentials.email,callback:function(e){t.$set(t.cerdentials,"email",e)},expression:"cerdentials.email"}})],1),n("div",{staticClass:"rub"},[n("span",{staticClass:"req"},[t._v("*")]),n("el-input",{attrs:{type:"text",placeholder:"Username",required:"",clearable:""},model:{value:t.cerdentials.username,callback:function(e){t.$set(t.cerdentials,"username",e)},expression:"cerdentials.username"}})],1),n("div",{staticClass:"rub"},[n("span",{staticClass:"req"},[t._v("*")]),n("el-input",{attrs:{type:"text",placeholder:"Password","show-password":"",required:"",clearable:""},model:{value:t.cerdentials.password,callback:function(e){t.$set(t.cerdentials,"password",e)},expression:"cerdentials.password"}})],1),n("el-button",{attrs:{type:"success"},on:{click:function(e){return e.preventDefault(),t.signup(e)}}},[t._v("Signup")]),n("br"),t._m(0)],1)])])},d=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"err"},[n("span",[t._v("*")]),t._v(" - this is a required field")])}],f={name:"signup",data:function(){return{cerdentials:{email:"",username:"",password:""}}},computed:{loggedinUser:function(){return this.$store.getters.getLoggedinUser},isLogin:function(){return this.$store.getters.getIsLogin},isSignup:function(){return this.$store.getters.getIsSignup}},created:function(){},methods:{signup:function(){this.$store.dispatch({type:"signup",userCred:this.cerdentials})},close:function(){console.log("close screen"),this.isLogin&&(console.log("close screen setLogin"),this.$store.commit({type:"setLogin"})),this.isSignup&&this.$store.commit({type:"setSignup"})}},components:{},watch:{}},h=f,x=(n("f8e7"),Object(l["a"])(h,p,d,!1,null,"5aeee28e",null)),v=x.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticClass:"app-header"},[n("div",{staticClass:"logo",class:t.isPlaying,on:{click:t.resetIcon}},[n("router-link",{attrs:{to:"/"}},[n("img",{staticClass:"reflect",attrs:{src:"https://res.cloudinary.com/hw-projects/image/upload/v1607170425/appmixes/logo_r_animated_v3_160x105.gif"}})]),n("router-link",{attrs:{to:"/"}},[n("h2",{staticClass:"brand-name"},[t._v("mixTape")])])],1),t.user?n("div",{staticClass:"user-display"},[t._v("Hello "+t._s(t.user.username))]):t._e(),n("nav",{staticClass:"main-nav"},[n("div",{staticClass:"nav-mix"},[n("router-link",{attrs:{to:"/mix/list"}},[t._v("Mixes")]),n("router-link",{attrs:{to:"/mix/details"}},[t._v("Create Mix")])],1),n("div",{staticClass:"nav-user-pos"},[n("div",{staticClass:"nav-user"},[n("el-menu",{attrs:{"default-active":"2",collapse:t.isCollapse},on:{open:t.handleOpen,close:t.handleClose}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("span",{staticClass:"user-avater"},[n("i",{staticClass:"fas fa-user-circle"})])]),n("el-menu-item-group",[t.user?n("el-menu-item",{attrs:{index:"1-1"},on:{click:t.onSetLogout}},[t._v("Logout")]):n("el-menu-item",{attrs:{index:"1-1"},on:{click:t.onSetLogin}},[t._v("Login")]),t.user?t._e():n("el-menu-item",{attrs:{index:"1-2"},on:{click:t.onSetSignup}},[t._v("Signup")])],1)],2)],1)],1)])])])])},S=[],C={data:function(){return{isCollapse:!1}},methods:{resetIcon:function(){Zn.$emit("reset-icons")},onSetLogin:function(){this.$store.commit({type:"setLogin"})},onSetSignup:function(){this.$store.commit({type:"setSignup"})},onSetLogout:function(){this.$store.dispatch({type:"logout"})},handleOpen:function(t,e){},handleClose:function(t,e){}},computed:{getCurrMix:function(){return this.$store.getters.getMix},user:function(){return this.$store.getters.getLoggedinUser},getCurrSong:function(){return this.$store.getters.getCurrSongPlaying},isPlaying:function(){var t=this.$store.getters.getCurrSongIsPlaying;return t?"logo-playing":"logo-stop"},isLogin:function(){return this.$store.getters.getIsLogin}}},_=C,w=(n("7f61"),Object(l["a"])(_,y,S,!1,null,null,null)),b=w.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticClass:"app-footer"},[n("div",{staticClass:"logo",class:t.isPlaying},[n("router-link",{attrs:{to:"/"}},[n("img",{staticClass:"reflect",attrs:{src:"https://res.cloudinary.com/hw-projects/image/upload/v1606479695/appmixes/logo_r_animated_v3_first_Frame"}})])],1),n("h2",[t._v("Created by: Andery Dolya | Eilon Shetrit | Weingarten Harel")])])])},P=[],$={computed:{isPlaying:function(){var t=this.$store.getters.getCurrSongIsPlaying;return t?"logo-playing":"logo-stop"}}},k=$,T=Object(l["a"])(k,M,P,!1,null,null,null),I=T.exports,O=(n("7db0"),n("96cf"),n("1da1")),N=(n("99af"),n("bc3a")),j=n.n(N),L="/api/",U=j.a.create({withCredentials:!0}),E={get:function(t,e){return R(t,"GET",e)},post:function(t,e){return R(t,"POST",e)},put:function(t,e){return R(t,"PUT",e)},delete:function(t,e){return R(t,"DELETE",e)}};function R(t){return D.apply(this,arguments)}function D(){return D=Object(O["a"])(regeneratorRuntime.mark((function t(e){var n,s,i,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"get",s=r.length>2&&void 0!==r[2]?r[2]:null,t.prev=2,t.next=5,U({url:"".concat(L).concat(e),method:n,data:s});case 5:return i=t.sent,t.abrupt("return",i.data);case 9:throw t.prev=9,t.t0=t["catch"](2),console.log("Had issues ".concat(n,"ing to server"),t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,9]])}))),D.apply(this,arguments)}var G={query:A,getById:H,remove:B,save:J,update:q,getSongByIdAndMix:V,createNewSong:z};function A(){return E.get("mix")}function H(t){return E.get("mix/".concat(t))}function B(t){return E.delete("mix/".concat(t))}function J(t){return E.post("mix",t)}function q(t){return E.put("mix/".concat(t._id),t)}function V(t,e){return F.apply(this,arguments)}function F(){return F=Object(O["a"])(regeneratorRuntime.mark((function t(e,n){var s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,H(n);case 2:return s=t.sent,i=s.songs.find((function(t){return t.id===e})),t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)}))),F.apply(this,arguments)}function z(){return{title:"",id:W(),songUrlId:"",imgUrl:"",addedBy:"minimal-user",duration:"3:21",isPlaying:!1}}function W(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<t;s++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}var K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"globalPlayer"},[n("div",[t.getCurrSongPlaying?n("div",[n("youtube",{ref:"youtube",staticClass:"youtube-window",attrs:{"video-id":t.getCurrSongPlaying.songUrlId,"player-vars":t.playerVars},on:{playing:t.playing,ended:t.ended}})],1):t._e()]),n("div",{staticClass:"global-player"},[n("div",{staticClass:"logo",class:t.isPlayingClass},[n("router-link",{attrs:{to:"/"}},[n("img",{staticClass:"reflect",attrs:{src:"https://res.cloudinary.com/hw-projects/image/upload/v1606479695/appmixes/logo_r_animated_v3_first_Frame"}})])],1),n("marquee-text",{staticClass:"title-width"},[t.getCurrSongPlaying?n("h2",[t._v(t._s(t.getCurrSongPlaying.title))]):n("h2",[t._v("Artist - Unknown")])]),n("div",{staticClass:"progress-bar"},[t.currTime?n("p",[t._v(t._s(t.currTime))]):n("p",[t._v("00:00")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.currTimePlaying,expression:"currTimePlaying"}],attrs:{type:"range",min:t.currTime,max:t.totalTimeInput},domProps:{value:t.currTimePlaying},on:{input:function(e){return t.moveTo()},__r:function(e){t.currTimePlaying=e.target.value}}}),t.totalTime?n("p",[t._v(t._s(t.totalTime))]):n("p",[t._v("00:00")])]),n("div",{staticClass:"step-btn"},[n("button",{on:{click:t.onPrevSong}},[n("i",{staticClass:"fas fa-step-backward"})]),t.isPlayingNow?n("button",{on:{click:t.pause}},[n("i",{staticClass:"far fa-pause-circle"})]):n("button",{on:{click:t.play}},[n("i",{staticClass:"fas fa-play"})]),n("button",{on:{click:t.onNextSong}},[n("i",{staticClass:"fas fa-step-forward"})])]),n("div",[t.isMuted?n("button",{on:{click:t.unmute}},[n("i",{staticClass:"fas fa-volume-mute"})]):n("button",{on:{click:t.mute}},[n("i",{staticClass:"fas fa-volume-up"})])])],1)])},Y=[],Q=(n("c740"),n("fb6a"),{convertSecondsToTime:Z});function Z(t){var e=0;return t/60>0&&(e=parseInt(t/60,10),t%=60),e/60>0&&(parseInt(e/60,10),e%=60),("0"+e).slice(-2)+":"+("0"+t).slice(-2)}var X,tt=n("8055"),et=n.n(tt),nt="/",st={setup:it,terminate:rt,on:ot,off:at,emit:ct};function it(){X=et()(nt)}function rt(){X=null}function ot(t,e){X.on(t,e)}function at(t,e){X.off(t,e)}function ct(t,e){X.emit(t,e)}var ut={name:"global-player",data:function(){return{url:"",songId:"",isPlaying:!1,isPause:!1,playerVars:{autoplay:1,origin:window.location.origin},currTime:0,currTimePlaying:0,totalTime:0,totalTimeInput:0,isMuted:!1}},computed:{player:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.youtube.player;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},getCurrSongPlaying:function(){return this.$store.getters.getCurrSongPlaying},isPlayingNow:function(){return this.$store.getters.getCurrSongIsPlaying},currMix:function(){return this.$store.getters.getMix},timePlaying:function(){return this.currTimePlaying},isPlayingClass:function(){var t=this.$store.getters.getCurrSongIsPlaying;return t?"logo-playing":"logo-stop"}},methods:{pause:function(){this.$refs.youtube.player.pauseVideo(),this.$store.commit({type:"stopSongPlaying"});var t=this.getCurrSongPlaying.songUrlId,e=this.currMix.songs.findIndex((function(e){return e.songUrlId===t})),n=JSON.parse(JSON.stringify(this.currMix));n.songs[e].isPlaying=!1,this.$store.dispatch({type:"saveMix",mix:n})},play:function(){this.$refs.youtube.player.playVideo(),this.$store.commit({type:"startSongPlaying"});var t=this.getCurrSongPlaying.songUrlId,e=this.currMix.songs.findIndex((function(e){return e.songUrlId===t})),n=JSON.parse(JSON.stringify(this.currMix));n.songs[e].isPlaying=!0,this.$store.dispatch({type:"saveMix",mix:n})},playing:function(t){var e=this;this.totalTimeInput=Math.floor(t.getDuration()),this.totalTime=Q.convertSecondsToTime(Math.floor(t.getDuration())),setInterval((function(){e.currTime=Q.convertSecondsToTime(Math.floor(t.getCurrentTime())),e.currTimePlaying=Math.floor(t.getCurrentTime()),st.emit("move-to-new-time",e.currTimePlaying)}),1e3)},ended:function(){this.autoPlayNextSong()},autoPlayNextSong:function(){this.currMix.songs.length;var t,e=this.getCurrSongPlaying.songUrlId,n=this.currMix.songs.findIndex((function(t){return t.songUrlId===e}));this.$store.commit({type:"setPrevSongNotPlaying",songIdx:n}),n<this.currMix.songs.length-1?t=this.currMix.songs[n+1]:n===this.currMix.songs.length-1&&(t=this.currMix.songs[0]);var s=t.songUrlId;this.$refs.youtube.player.loadVideoById(s),this.$store.commit({type:"setCurrSong",song:t}),this.$store.commit({type:"startSongPlaying"});var i=JSON.parse(JSON.stringify(this.currMix));i.songs[n].isPlaying=!1,this.$store.dispatch({type:"saveMix",mix:i}),st.emit("next-song",t)},moveTo:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.youtube.player.seekTo(t.currTimePlaying,!0);case 2:st.emit("move-to",t.currTimePlaying);case 3:case"end":return e.stop()}}),e)})))()},onNextSong:function(){this.autoPlayNextSong()},onPrevSong:function(){this.currMix.songs.length;var t,e=this.getCurrSongPlaying.songUrlId,n=this.currMix.songs.findIndex((function(t){return t.songUrlId===e}));n>0?t=this.currMix.songs[n-1]:0===n&&(t=this.currMix.songs[this.currMix.songs.length-1]);var s=t.songUrlId;this.$refs.youtube.player.loadVideoById(s),this.$store.commit({type:"setCurrSong",song:t}),this.$store.commit({type:"startSongPlaying"}),this.$store.commit({type:"setPrevSongNotPlaying",songIdx:n});var i=JSON.parse(JSON.stringify(this.currMix));i.songs[n].isPlaying=!1,this.$store.dispatch({type:"saveMix",mix:i}),st.emit("prev-song",t)},mute:function(){this.isMuted=!0,this.$refs.youtube.player.mute()},unmute:function(){this.isMuted=!1,this.$refs.youtube.player.unMute()}},created:function(){var t=this;Zn.$on("pause-music",(function(){t.pause()})),Zn.$on("resume-music",(function(){t.play()})),Zn.$on("song-time",(function(e){t.$refs.youtube.player.seekTo(e,!0),t.currTimePlaying=e})),Zn.$on("song-time-sync",(function(e){t.$refs.youtube.player.seekTo(e,!0),t.currTimePlaying=e,console.log("SONGS SYNCED"),Zn.$off("song-time-sync")}))},destroyed:function(){}},lt=ut,gt=Object(l["a"])(lt,K,Y,!1,null,null,null),mt=gt.exports,pt={props:{},data:function(){return{isLoading:!0}},created:function(){this.isLoading=!0,this.$store.dispatch({type:"loadMixes"})},mounted:function(){var t=this;setInterval((function(){t.isLoading=!1}),2e3)},methods:{close:function(){console.log("close screen"),this.isLogin&&(console.log("close screen setLogin"),this.$store.commit({type:"setLogin"})),this.isSignup&&this.$store.commit({type:"setSignup"})}},computed:{currentRouteName:function(){return this.$store.getters.currentRouteName},isLogin:function(){return this.$store.getters.getIsLogin},isSignup:function(){return this.$store.getters.getIsSignup}},components:{mixLogin:m,mixSignup:v,appHeader:b,appFooter:I,globalPlayer:mt}},dt=pt,ft=(n("5c0b"),Object(l["a"])(dt,i,r,!1,null,null,null)),ht=ft.exports,xt=n("9483");Object(xt["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var vt=n("8c4f"),yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticClass:"mix-app"},[n("mix-home")],1)])},St=[],Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticClass:"mix-home"},[n("mixHero",{on:{refName:t.scrollMeTo}}),n("div",{staticClass:"top-mixes container"},[n("h2",[t._v(" Top Mixes ")]),t.topMixes?n("ul",{staticClass:"top-mixes"},t._l(t.topMixes,(function(t){return n("li",{key:t._id},[n("mix-preview",{attrs:{mix:t}})],1)})),0):t._e()]),t.geners?n("ul",{ref:"mix-list-home-container",staticClass:"mixes-list-ul"},t._l(t.geners,(function(e,s){return n("li",{key:e,staticClass:"mixes-list-li"},[n("mix-list-Home",{attrs:{genre:t.geners[s]}})],1)})),0):t._e()],1),n("mix-footer")],1)},_t=[],wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{ref:"mix-list-home",staticClass:"mix-list-home container"},[n("div",{ref:"mix-list-home container"},[n("nav",{staticClass:"mixes-nav"},[n("div",{staticClass:"genre-title"},[t._v(t._s(t.genre))]),n("ul",{staticClass:"nav-show-all-ul"},[n("li",{staticClass:"mix-link-show-all",on:{click:function(e){return t.showList(t.genre)}}},[t._v(" Show all "),t._m(0)])])]),t.mixes&&t.genre?[n("VueSlickCarousel",t._b({scopedSlots:t._u([{key:"prevArrow",fn:function(e){return[n("div",{staticClass:"custom-arrow"},[t._v(" "+t._s(e.currentSlide)+"/"+t._s(e.slideCount)+" ")])]}}],null,!1,2816469163)},"VueSlickCarousel",t.settings,!1),t._l(t.mixes,(function(t){return n("li",{key:t._id},[n("mix-preview",{attrs:{mix:t}})],1)})),0)]:t._e()],2)])},bt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("i",{staticClass:"fas fa-angle-double-right"})])}],Mt=(n("4de4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.mix?n("section",{staticClass:"details"},[n("div",{staticClass:"mix"},[n("div",{staticClass:"images",on:{click:function(e){return t.onMixView(t.mix._id)}}},[n("img",{staticClass:"mix-image shadow",attrs:{src:t.mix.imgUrl}}),n("img",{staticClass:"img-frame",attrs:{src:"https://res.cloudinary.com/hw-projects/image/upload/v1606518099/appmixes/logo_frame.png"}})]),n("div",{staticClass:"info"},[n("span",{staticClass:"mix-name",class:t.checkLang},[t._v(t._s(t.mix.name))]),n("span",{staticClass:"mix-desc"},[t._v(t._s(t.mix.desc))]),n("div",{staticClass:"stats"},[n("div",[n("span",{staticClass:"mix-likes"},[t._v(t._s(t.mix.likes)+" "),n("i",{staticClass:"fas fa-heart"})]),n("span",{staticClass:"mix-views"},[t._v(t._s(t.mix.views)+" "),n("i",{staticClass:"fas fa-eye"})])]),n("span",{staticClass:"mix-amount"},[t._v(t._s(t.songsAmount)+" "),n("i",{staticClass:"fas fa-compact-disc"})])])])])]):t._e()}),Pt=[],$t={name:"mix-preview",props:{mix:Object},data:function(){return{currMix:null}},computed:{checkLang:function(){return"israeli"===this.mix.genre?"mix-name isreali":"mix-name"},getMix:function(){return this.$store.getters.getMix},getSong:function(){return this.$store.getters.getCurrSongPlaying},songsAmount:function(){return this.mix.songs.length}},methods:{onMixView:function(t){this.$router.push("/mix/details/".concat(t))}},created:function(){}},kt=$t,Tt=Object(l["a"])(kt,Mt,Pt,!1,null,null,null),It=Tt.exports,Ot=n("a7ab"),Nt=n.n(Ot),jt=(n("7b8d"),n("6a2c"),{name:"mix-list-home",props:{genre:{type:String,default:null}},data:function(){return{a:null,videoId:"BubwLnPcQjc",mixTopA:null,currMix:"",settings:{lazyLoad:"ondemand",dots:!0,infinite:!1,speed:500,slidesToShow:4,slidesToScroll:4,initialSlide:0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}}},computed:{currSongPlaying:function(){return this.$store.getters.getCurrSongPlaying},mixes:function(){var t=this,e=this.$store.getters.getMixesForDisplay;if(e){if(!this.genre)return e;var n=e.filter((function(e){return e.genre.toLowerCase()===t.genre.toLowerCase()}));return n}},getMix:function(){return this.$store.getters.getMix}},methods:{showList:function(t){console.log("genre",t),this.$store.commit({type:"setGenre",genre:t}),this.$router.push("mix/list")}},components:{mixPreview:It,VueSlickCarousel:Nt.a},created:function(){}}),Lt=jt,Ut=Object(l["a"])(Lt,wt,bt,!1,null,null,null),Et=Ut.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"hero"},[n("div",{ref:"baba",staticClass:"hero-text-area"},[n("h2",[t._v("Enjoy ,Create ,Share an asewome mixTape")]),n("div",{staticClass:"buttons"},[n("a",{staticClass:"button start-listening",on:{click:function(e){return t.emitScrollMeTo("mix-list-home-container")}}},[t._v("Start listening")]),n("a",{staticClass:"button create-playlist",on:{click:function(e){return t.createNewPlaylist()}}},[t._v("Create Playlist")])])]),n("mix-carousel")],1)},Dt=[],Gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-carousel",{attrs:{"indicator-position":"outside",interval:24e3,autoplay:!0}},t._l(t.imgs,(function(t){return n("el-carousel-item",{key:t},[n("img",{staticClass:"left",attrs:{src:t}})])})),1)},At=[],Ht={name:"mix-carosel",data:function(){return{imgs:["https://res.cloudinary.com/hw-projects/image/upload/v1606309308/appmixes/party002.jpg"]}},props:{},components:{},computed:{},created:function(){}},Bt=Ht,Jt=(n("a652"),Object(l["a"])(Bt,Gt,At,!1,null,null,null)),qt=Jt.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"video"},[n("video",{ref:"myVideo",attrs:{id:"myVideo",width:"1280",height:"720",autoplay:"",loop:""}},[n("source",{attrs:{src:"https://res.cloudinary.com/hw-projects/video/upload/v1606349974/appmixes/MergedVideo_1_online-video-cutter.com_gqlbzp.mp4",type:"video/mp4"}}),t._v(" Your browser does not support HTML5 video. ")])])},Ft=[],zt={data:function(){return{videoId:"lG0Ys-2d4MA"}},methods:{playVideoNative:function(){}},computed:{},created:function(){this.playVideoNative()}},Wt=zt,Kt=Object(l["a"])(Wt,Vt,Ft,!1,null,null,null),Yt=Kt.exports,Qt={props:{},data:function(){return{}},methods:{emitScrollMeTo:function(t){this.$emit("refName",t)},createNewPlaylist:function(){this.$store.commit({type:"setMixEmpty"}),this.$router.push("mix/details")}},components:{mixCarousel:qt,mixVideoPlayer:Yt},computed:{},created:function(){}},Zt=Qt,Xt=Object(l["a"])(Zt,Rt,Dt,!1,null,null,null),te=Xt.exports,ee={name:"mix-home",data:function(){return{}},components:{mixHero:te,mixListHome:Et,mixVideo:Yt,globalPlayer:mt,mixPreview:It,mixFooter:I},computed:{geners:function(){return this.$store.getters.getGeners},topMixes:function(){var t=this.$store.getters.getTopMixes;return console.log("mixes",t),t}},methods:{scrollMeTo:function(t){console.log("scrollMeTo",t);var e=this.$refs[t];console.log("element",e,this.$refs);var n=e.offsetTop;window.scrollTo(0,n)},getMixTop:function(){var t=this.$store.dispatch({type:"getMixByIdPrivate",mixId:"5c013"});console.log("mixTop",t)}},watch:{status:function(t,e){getCurrSongPlaying.isPlaying?console.log("playing"):console.log("Not Playing")}},created:function(){this.$store.dispatch({type:"getTopMixes"})}},ne=ee,se=Object(l["a"])(ne,Ct,_t,!1,null,null,null),ie=se.exports,re={data:function(){return{}},computed:{},components:{mixHome:ie}},oe=re,ae=Object(l["a"])(oe,yt,St,!1,null,null,null),ce=ae.exports,ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.mix?s("section",{staticClass:"mix-details flex"},[s("div",{staticClass:"mix-full-info flex"},[s("section",{staticClass:"header-mix-info flex"},[s("section",{staticClass:"mix-img flex start"},[s("form",[t.isLoading?s("img",{staticClass:"loader",attrs:{src:n("ebb8")}}):[s("div",{staticClass:"update-img-mix"},[s("label",{staticClass:"imgUploader",attrs:{for:"imgUploader"}},[s("img",{attrs:{src:t.currMix.imgUrl}}),t._m(0)])]),s("input",{attrs:{type:"file",name:"img-uploader",id:"imgUploader",hidden:""},on:{change:t.onUploadImg}})]],2)]),s("section",{staticClass:"mix-info-main"},[s("section",{staticClass:"mix-info"},[t.isTitleHide?s("div",{staticClass:"input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.currMix.name,expression:"currMix.name"}],staticClass:"input-title",attrs:{type:"text"},domProps:{value:t.currMix.name},on:{input:function(e){e.target.composing||t.$set(t.currMix,"name",e.target.value)}}}),s("span",{on:{click:function(e){return e.preventDefault(),t.saveChange(t.currMix)}}},[s("i",{staticClass:"far fa-save"})])]):s("h2",{staticClass:"mix-title"},[t._v(" "+t._s(t.currMix.name)),s("span",{staticClass:"edit-txt",on:{click:t.toggleEditTitle}},[s("i",{staticClass:"edit fas fa-pen"})])]),t.isDescHide?s("div",{staticClass:"textarea-container flex"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currMix.desc,expression:"currMix.desc"}],attrs:{name:"desc",id:"desc"},domProps:{value:t.currMix.desc},on:{input:function(e){e.target.composing||t.$set(t.currMix,"desc",e.target.value)}}}),s("span",{on:{click:function(e){return t.saveChange(t.currMix)}}},[s("i",{staticClass:"far fa-save"})])]):s("p",{staticClass:"description"},[t._v(" "+t._s(t.currMix.desc)+" "),s("span",{on:{click:t.toggleEditDesc}},[s("i",{staticClass:"fas fa-pen"})])]),s("div",{staticClass:"mix-genre"},[s("h4",[t._v(t._s(t.currMix.genre))]),s("mix-select-genre",{staticClass:"select-genre",attrs:{selectType:""},on:{selectType:t.setGenre}})],1),s("div",{staticClass:"stats"},[s("div",{staticClass:"mix-views"},[s("h4",[t._v(t._s(t.currMix.views))]),s("i",{staticClass:"fas fa-eye"})]),s("div",{staticClass:"mix-like"},[s("div",{staticClass:"like-song"},[s("span",{staticClass:"likes-count"},[t._v(t._s(t.currMix.likes))]),s("i",{staticClass:"far fa-heart",class:t.heartMode,on:{click:t.addLike}})])])])]),s("section",{staticClass:"user-info"},[s("h5",[s("span",[t._v("Created by: "),s("img",{attrs:{src:t.currMix.createdBy.imgUrl}})]),s("span",[t._v(t._s(t.currMix.createdBy.fullName))])])]),s("section",{staticClass:"general-info"})])]),s("div",{staticClass:"search-and-social"},[s("div",{staticClass:"songs"},[s("mix-song-list",{attrs:{songs:t.currMix.songs,mix:t.currMix},on:{emitRemoveSong:t.removeSongFromMix,emitSongPos:t.changeSongPos,updateMix:t.saveChange}})],1)])]),s("div",{staticClass:"mix-chat effect5"},[s("mix-chat",{attrs:{mixId:t.roomId}})],1)]):t._e()},le=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"image-edit-button"},[n("i",{staticClass:"fas fa-pen"})])}],ge=(n("4160"),n("a434"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section")}),me=[],pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"songs-list flex column"},[t.mix?s("div",{staticClass:"search-song-and-social-container"},[s("div",{staticClass:"search-and-add"},[s("i",{staticClass:"fas fa-plus-circle",on:{click:t.openInputApi}}),s("i",{staticClass:"fas fa-search",on:{click:t.openInputSearch}}),t.isAdd?s("mixApiSearch"):t._e(),t.isAdd?t._e():s("div",{staticClass:"search-song"},[s("el-input",{attrs:{type:"text",placeholder:"Search song in mix...",clearable:""},on:{input:t.filterBySong},model:{value:t.songTxt,callback:function(e){t.songTxt=e},expression:"songTxt"}})],1)],1),s("mix-social")],1):t._e(),t.mix?s("draggable",{staticClass:"list-group min-height songs-details-main",attrs:{list:t.mix.songs,options:{animation:200},element:"ul"},on:{change:t.update}},t._l(t.mix.songs,(function(e,i){return s("li",{key:e.id,staticClass:"list-group-item",attrs:{"data-id":e.id}},[s("div",{staticClass:"song-container"},[s("div",{staticClass:"songs-details"},[e.isPlaying?s("button",{on:{click:function(n){return t.pauseSong(e)}}},[s("i",{staticClass:"fas fa-pause",class:e.isPlaying?"highlight-color":"default-color"})]):s("button",{on:{click:function(n){t.setCurrSongPlaying(e),t.startSongPlaying(e,t.mix)}}},[s("i",{staticClass:"fas fa-play"})]),s("img",{attrs:{src:e.imgUrl}}),s("p",{class:e.isPlaying?"highlight-color":"default-color"},[t._v(t._s(e.title))]),s("span",{staticClass:"song-duration"},[t._v(t._s(e.duration))])]),e.isPlaying?s("div",{staticClass:"img-equalizer"},[s("img",{attrs:{src:n("e2d4")}})]):t._e(),s("div",{staticClass:"actions"},[s("div",{staticClass:"sort-songs-buttons"},[s("button",{on:{click:function(e){return t.emitSongPos(i,-1)}}},[s("i",{staticClass:"fas fa-sort-up"})]),s("button",{on:{click:function(e){return t.emitSongPos(i,1)}}},[s("i",{staticClass:"fas fa-sort-down"})])]),s("span",{staticClass:"delete-song",on:{click:function(n){return t.emitSongId(e.id)}}},[s("i",{staticClass:"far fa-trash-alt"})])])])])})),0):t._e()],1)},de=[],fe=(n("caad"),n("d81d"),n("2532"),n("b76a")),he=n.n(fe),xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticClass:"searchTest"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.getSearchResults()}}},[n("el-input",{attrs:{type:"text",placeholder:"Add song to mix...",clearable:""},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),n("span",{on:{click:function(e){return t.getSearchResults()}}},[n("i",{staticClass:"fas fa-search"})])]),t.searchResults?n("div",{staticClass:"searchResults"},[n("ul",t._l(t.searchResults,(function(e){return n("li",{key:e.id.videoId},[n("p",[t._v(t._s(e.snippet.title))]),n("img",{attrs:{src:e.snippet.thumbnails.default.url}}),n("button",{on:{click:function(n){return n.preventDefault(),t.addSongToMix(e)}}},[n("i",{staticClass:"fas fa-plus"})])])})),0)]):t._e()])},ve=[],ye="AIzaSyDwDQqSKJool3yVnvBcsfZtntzi11zi6G0",Se={query:Ce};function Ce(t){return _e.apply(this,arguments)}function _e(){return _e=Object(O["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=5&q=".concat(e,"&type=video&key=").concat(ye));case 2:return n=t.sent,t.abrupt("return",n.data.items);case 4:case"end":return t.stop()}}),t)}))),_e.apply(this,arguments)}var we={data:function(){return{keyword:"",searchResults:null,createNewSong:G.createNewSong(),currMix:null,song:[{id:{videoId:"D2heCoIKa1U"},snippet:{thumbnails:{default:{url:"https://i.ytimg.com/vi/D2heCoIKa1U/default.jpg"}},title:"Natanael Cano x Ovi x Snoop Dogg x Snow Tha Product x CNG - Feeling Good [Official Video]"}}]}},computed:{getCurrMix:function(){return this.currMix=this.$store.getters.getMix,this.currMix}},methods:{getSearchResults:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.keyword){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Se.query(t.keyword);case 4:return n=e.sent,t.searchResults=n,console.log("SERACH RESULT : ",t.searchResults),e.abrupt("return",t.searchResults);case 8:case"end":return e.stop()}}),e)})))()},addSongToMix:function(t){var e=JSON.parse(JSON.stringify(this.getCurrMix));this.createNewSong.title=t.snippet.title,this.createNewSong.songUrlId=t.id.videoId,this.createNewSong.imgUrl=t.snippet.thumbnails.default.url,e.songs.unshift(this.createNewSong),this.$store.dispatch({type:"saveMix",mix:e}),st.emit("mix-updated",e),this.createNewSong=G.createNewSong()}},created:function(){}},be=we,Me=Object(l["a"])(be,xe,ve,!1,null,null,null),Pe=Me.exports,$e=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ke=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-song-and-social"},[n("section",{staticClass:"mix-social flex space-between"},[n("div",{staticClass:"share-container flex"},[n("div",{staticClass:"invite"}),n("div",{staticClass:"mix-social-nav flex space-evenly"},[n("i",{staticClass:"fab fa-facebook-square"}),n("i",{staticClass:"fab fa-whatsapp"})])])])])}],Te={},Ie=Te,Oe=Object(l["a"])(Ie,$e,ke,!1,null,null,null),Ne=Oe.exports,je={name:"mix-song-list",props:{songs:Array},data:function(){return{songId:null,isAdd:!1,isPlaying:!1,mixCopy:null,songTxt:"",songsListDragable:null,songForDev:{title:"Mac Miller - Good News",id:"i6Hdm",songUrlId:"aIHF7u9Wwiw",imgUrl:"https://i.ytimg.com/vi/aIHF7u9Wwiw/default.jpg",addedBy:"minimal-user",duration:"3:21",isPlaying:!1}}},computed:{mix:function(){var t=this.$store.getters.getMix;if(t)return this.mixCopy=JSON.parse(JSON.stringify(t)),this.mixCopy},isNowPlaying:function(){return this.$store.getters.getThisIsPlaying},currSongPlaying:function(){return this.$store.getters.getCurrSongPlaying},getMix:function(){return this.$store.getters.getMix},filterBySong:function(){var t=this,e=this.mix;if(e){var n=JSON.parse(JSON.stringify(e));return this.songTxt?n.songs.filter((function(e){return e.title.toLowerCase().includes(t.songTxt.toLowerCase())})):n.songs}},isSongPlaying:function(){return this.$store.getters.getCurrSongIsPlaying}},methods:{onAdd:function(t,e){var n=t.item.getAttribute("data-id");console.log("id",n)},update:function(){this.mix.songs.map((function(t,e){t.order=e+1})),this.$store.dispatch({type:"saveMix",mix:this.mix}),st.emit("mix-updated",this.mix),console.log("filterBySong",this.mix)},onResize:function(t,e,n,s){this.x=t,this.y=e,this.width=n,this.height=s},onDrag:function(t,e){this.x=t,this.y=e},stopDrag:function(t){console.log("stopDrag",this.filterBySong,t),this.$emit("updateMix",this.mixCopy)},emitSongPos:function(t,e){this.$emit("emitSongPos",{songIdx:t,diff:e})},emitSongId:function(t){this.$emit("emitRemoveSong",t)},setIsPlaying:function(){this.$store.commit({type:"nowPlaying",isPlaying:this.isPlaying})},setCurrSongPlaying:function(t){this.$store.commit({type:"setCurrSong",song:t})},startSongPlaying:function(t,e){this.$store.commit({type:"setCurrSong",song:t}),Zn.$emit("resume-music");e=JSON.parse(JSON.stringify(this.getMix));var n=this.currSongPlaying.songUrlId,s=this.getMix.songs.findIndex((function(t){return t.songUrlId===n}));e.songs.forEach((function(t){return t.isPlaying=!1})),e.songs[s].isPlaying=!0,console.log("AONG SONGS SONGS :",e.songs),this.$store.dispatch({type:"saveMix",mix:e}),st.emit("set-song-playing",this.currSongPlaying)},pauseSong:function(t){Zn.$emit("pause-music"),this.$store.commit({type:"stopSongPlaying",song:t});var e=this.currSongPlaying.songUrlId,n=this.getMix.songs.findIndex((function(t){return t.songUrlId===e})),s=JSON.parse(JSON.stringify(this.getMix));s.songs[n].isPlaying=!1,this.$store.dispatch({type:"saveMix",mix:s}),st.emit("pause-song-playing",this.currSongPlaying)},openInputApi:function(){this.isAdd=!0},openInputSearch:function(){this.isAdd=!1}},created:function(){var t=this;console.log("created",this.songForDev),st.on("play-song",(function(e){t.$store.commit({type:"setCurrSong",song:e})})),st.on("song-time",(function(t){Zn.$emit("song-time",t)})),st.on("pause-song",(function(t){Zn.$emit("pause-music")}))},components:{mixApiSearch:Pe,draggable:he.a,mixSocial:Ne}},Le=je,Ue=(n("ae48"),Object(l["a"])(Le,pe,de,!1,null,null,null)),Ee=Ue.exports,Re={},De=Re,Ge=Object(l["a"])(De,ge,me,!1,null,null,null),Ae=Ge.exports,He=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"chat-app"},[n("marquee-text",[t.getSong?n("div",{staticClass:"now-playing"},[n("p",[n("span",[t._v(" Now Playing - ")]),t._v(" "+t._s(t.getSong.title)+" ")])]):t._e()]),n("div",{staticClass:"chat-msgs"},[n("ul",[t._l(t.msgsHistory,(function(e,s){return n("li",{key:s+e},[n("p",{staticClass:"msg"},[t._v(t._s(e.name)+": "+t._s(e.txt))])])})),t._l(t.msgs,(function(e,s){return n("li",{key:s},[n("p",{staticClass:"msg"},[t._v(t._s(e.name)+": "+t._s(e.txt))])])}))],2)]),n("div",{staticClass:"chat-form raised"},[t.isTyping?n("p",{staticClass:"some-typing"},[t._v("Someone typing...")]):t._e(),n("form",{on:{submit:function(e){return e.preventDefault(),t.sendMsg(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.msg.txt,expression:"msg.txt"}],attrs:{type:"text",placeholder:"Share your thoughts..."},domProps:{value:t.msg.txt},on:{keydown:t.isTypingNow,keyup:t.isNotTypingNow,input:function(e){e.target.composing||t.$set(t.msg,"txt",e.target.value)}}}),t._m(0),n("select",{directives:[{name:"model",rawName:"v-model",value:t.msg.txt,expression:"msg.txt"}],staticClass:"emojis",attrs:{name:"emojis"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.msg,"txt",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"",selected:"",disabled:"",hidden:""}},[t._v(t._s(t.chatEmojis[1]))]),t._l(t.chatEmojis,(function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],2)])])],1)},Be=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",[n("i",{staticClass:"far fa-paper-plane"})])}],Je={props:{mixId:String},data:function(){return{msg:{name:this.getUser,txt:""},msgsHistory:[],msgs:[],room:this.mixId,isTyping:!1,chatEmojis:["🤙","😎","👍","😂","👻","🕺","💃","🤩","🥳","👽","🤖"],users:null}},computed:{getSong:function(){return this.$store.getters.getCurrSongPlaying},getUser:function(){return this.$store.getters.getLoggedinUser}},methods:{sendMsg:function(){this.msg.txt&&(st.emit("send message",{msg:this.msg,roomId:this.room}),console.log("CHAT MSG SENT : ",this.msg),this.msg.txt="")},isTypingNow:function(){st.emit("is typing",this.isTyping),this.isTyping=!0},isNotTypingNow:function(){st.emit("is not typing",this.isTyping),this.isTyping=!1},setUserName:function(){}},created:function(){var t=this;st.setup(),st.emit("join room",this.room),st.on("chat message",(function(e){t.msgs.push(e)})),st.on("type msg",(function(e){t.isTyping=!0})),st.on("stop type msg",(function(e){t.isTyping=!1})),st.on("message history",(function(e){e.filter((function(e){e.roomId===t.mixId&&t.msgsHistory.push(e.msg)}))})),st.on("user joined",(function(e){t.msgs.push(e),console.log("username ",e)})),st.on("getCount",(function(e){t.users=e}))}},qe=Je,Ve=Object(l["a"])(qe,He,Be,!1,null,null,null),Fe=Ve.exports,ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-select",{attrs:{placeholder:"Select"},on:{change:t.onSelect},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)},We=[],Ke={data:function(){return{options:[{value:"funk",label:"funk"},{value:"pop",label:"pop"},{value:"rock",label:"rock"},{value:"israeli",label:"israeli"},{value:"Techno",label:"Techno"},{value:"Soundtrack",label:"Soundtrack"}],value:""}},methods:{onSelect:function(t){console.log("select",t),this.$emit("selectType",t)}}},Ye=Ke,Qe=Object(l["a"])(Ye,ze,We,!1,null,null,null),Ze=Qe.exports,Xe=(n("d3b7"),function(){var t=Object(O["a"])(regeneratorRuntime.mark((function t(e){var n,s,i,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="appmixes",s="hw-projects",i="https://api.cloudinary.com/v1_1/".concat(s,"/image/upload"),r=new FormData,r.append("file",e.target.files[0]),r.append("upload_preset",n),t.prev=6,t.next=9,fetch(i,{method:"POST",body:r});case 9:return o=t.sent,t.abrupt("return",o.json());case 13:t.prev=13,t.t0=t["catch"](6),console.error("ERROR!",t.t0);case 16:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e){return t.apply(this,arguments)}}()),tn={data:function(){return{songTime:0,imgUrls:[],isTitleHide:!1,isDescHide:!1,isLoading:!1,songTxt:"",currMix:"",newMix:{name:"Mix Name",desc:"Mix description",genre:"genre",isLiked:!1,imgUrl:"https://res.cloudinary.com/hw-projects/image/upload/v1606479695/appmixes/logo_r_animated_v3_first_Frame.jpg",likes:0,tags:["Funk","Happy"],createdBy:{_id:"u101",fullName:"guest ".concat(this._id),imgUrl:"https://res.cloudinary.com/hw-projects/image/upload/v1606654351/appmixes/user_headphones.png"},likedByUsers:[],songs:[{title:"Mac Miller - Good News",id:"i6Hdm",songUrlId:"aIHF7u9Wwiw",imgUrl:"https://i.ytimg.com/vi/aIHF7u9Wwiw/default.jpg",addedBy:"minimal-user",duration:"3:21",isPlaying:!1}]}}},computed:{getMix:function(){return this.$store.getters.getMix?this.$store.getters.getMix:this.newMix},roomId:function(){return this.$route.params.mixId},currSongPlaying:function(){return this.$store.getters.getCurrSongPlaying},mix:function(){return this.$store.getters.getMix?(this.currMix=JSON.parse(JSON.stringify(this.$store.getters.getMix)),this.$store.getters.getMix):(this.currMix=this.newMix,console.log("this.currMix",this.currMix),this.currMix)},user:function(){var t=this.$store.getters.getLoggedinUser;return t},heartMode:function(){return this.currMix.isLiked?"fas fa-heart":"far fa-heart"}},methods:{saveMix:function(t){this.$store.dispatch({type:"saveMix",mix:t}),st.emit("mix-updated",t)},startSongOnPreview:function(){var t=this;this.currSongPlaying?(this.currMix.songs.forEach((function(t){return t.isPlaying=!1})),this.currMix.songs.forEach((function(e){e.id===t.currSongPlaying.id&&(e.isPlaying=!0)}))):(this.currMix.songs.forEach((function(t){return t.isPlaying=!1})),this.currMix.songs[0].isPlaying=!0,this.$store.commit({type:"setCurrSong",song:this.currMix.songs[0]}))},changeSongPos:function(t){var e=this.currMix.songs.length;if((0!==t.songIdx||-1!==t.diff)&&(t.songIdx!==e||1!==t.diff)){var n=this.currMix.songs,s=t.songIdx,i=t.songIdx+t.diff;console.log("changeSongPos",n,s,i);var r=1,o=n.splice(s,r)[0];r=0,n.splice(i,r,o),this.saveMix(this.currMix)}},setGenre:function(t){this.currMix.genre=t},toggleEditTitle:function(){this.isTitleHide=!this.isTitleHide},toggleEditDesc:function(){this.isDescHide=!this.isDescHide},saveChange:function(t){console.log("saveChange",t),this.saveMix(t),this.isTitleHide=!1,this.isDescHide=!1},removeSongFromMix:function(t){var e=this.currMix.songs.findIndex((function(e){return e.id===t}));this.currMix.songs.splice(e,1),this.saveMix(this.currMix)},addLike:function(){this.currMix.isLiked?(this.currMix.isLiked=!1,this.currMix.likes--,this.saveMix(this.currMix)):(this.currMix.isLiked=!0,this.currMix.likes++,this.saveMix(this.currMix))},onUploadImg:function(t){var e=this;return Object(O["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.isLoading=!0,n.next=3,Xe(t);case 3:s=n.sent,e.imgUrls.push(s.url),e.currMix&&(console.log("updating item img url"),e.currMix.imgUrl=s.url),e.isLoading=!1,e.saveMix(e.currMix);case 8:case"end":return n.stop()}}),n)})))()},updateViews:function(){this.currMix.views++,this.saveMix(this.currMix)},reload:function(){this.$forceUpdate()},playSongOnStart:function(){var t,e=0;console.log("this.mix",this.mix),this.getMix&&(this.mix.songs.forEach((function(n){n.isPlaying&&(e++,t=n)})),e>0?(st.emit("send-song-to-all",t),st.on("song-time-new",(function(t){Zn.$emit("song-time-sync",t)}))):st.emit("send-song-to-all",this.getMix.songs[0]))},getSongTime:function(){Zn.$emit("getTime")}},components:{mixChat:Fe,mixSongList:Ee,mixPlayer:Ae,mixSelectGenre:Ze,mixSocial:Ne},created:function(){var t=this;return Object(O["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(st.setup(),st.emit("join room",t.$route.params.mixId),console.log("details joined room ",t.$route.params.mixId),!t.$route.params.mixId){e.next=8;break}return n=t.$route.params.mixId,e.next=7,t.$store.dispatch({type:"getMixById",mixId:n});case 7:t.updateViews();case 8:st.on("play-song",(function(e){var n=JSON.parse(JSON.stringify(t.getMix));n.songs.forEach((function(t){return t.isPlaying=!1})),t.currSongPlaying&&(n.songs.forEach((function(e){e.id===t.currSongPlaying.id&&(e.isPlaying=!0,t.isMixPlaying=!0)})),t.$store.dispatch({type:"saveMix",mix:n}))})),t.playSongOnStart(),st.on("mix-is-updated",(function(e){t.$store.dispatch({type:"saveMix",mix:e}),t.$store.dispatch({type:"loadMixes",mix:e})}));case 11:case"end":return e.stop()}}),e)})))()},mounted:function(){},destroyed:function(){}},en=tn,nn=Object(l["a"])(en,ue,le,!1,null,null,null),sn=nn.exports,rn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"chat-room flex column grow space-between"},[n("div",{staticClass:"chat-msgs"},t._l(t.msgs,(function(e,s){return n("ul",{key:s,staticClass:"clean-list"},[n("li",{staticClass:"msg-text"},[t._v(t._s(e.txt))])])})),0),n("form",[n("div",{staticClass:"user-msg flex"},[n("el-input",{attrs:{type:"text",placeholder:"Send a message"},model:{value:t.msg.txt,callback:function(e){t.$set(t.msg,"txt",e)},expression:"msg.txt"}}),n("button",{staticClass:"btn send-msg",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.onSendMsg(t.msg)}}},[n("img",{attrs:{src:"https://res.cloudinary.com/hw-projects/image/upload/v1606416732/appmixes/send-messege_s_red_my4iaj.png"}})])],1)])])},on=[],an={props:{},data:function(){return{msgs:[],msg:{from:"",txt:""}}},methods:{},created:function(){}},cn=an,un=Object(l["a"])(cn,rn,on,!1,null,null,null),ln=(un.exports,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"mix-list-page container"},[n("div",{staticClass:"input-list flex"},[n("el-input",{attrs:{type:"text",placeholder:"Search song...",clearable:""},model:{value:t.filterBySongName,callback:function(e){t.filterBySongName=e},expression:"filterBySongName"}}),t._m(0)],1),n("nav",{staticClass:"nav-genres"},[n("li",{staticClass:"mix-link-all",on:{click:t.setGenreShowAll}},[t._v("All mixes")]),n("list-genres-carusselv",{staticClass:"list-genres-carussel",on:{setGenre:t.onSetGenre}})],1),n("ul",{staticClass:"ul-mixes"},t._l(t.mixes,(function(t){return n("li",{key:t._id,staticClass:"mix"},[n("mix-preview",{attrs:{mix:t}})],1)})),0)])}),gn=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("i",{staticClass:"fas fa-search"})])}],mn=(n("45fc"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("VueSlickCarousel",t._b({scopedSlots:t._u([{key:"prevArrow",fn:function(e){return[n("div",{staticClass:"custom-arrow"},[t._v(" "+t._s(e.currentSlide)+"/"+t._s(e.slideCount)+" ")])]}}])},"VueSlickCarousel",t.settings,!1),t._l(t.geners,(function(e){return n("ul",{key:e,staticClass:"mixes-nav-ul"},[n("li",{staticClass:"mix-link",on:{click:function(n){return t.onEmitSetGenre(e)}}},[t._v(t._s(e))])])})),0)}),pn=[],dn={props:{mixes:{type:Array,default:null}},data:function(){return{settings:{dots:!0,infinite:!1,speed:500,slidesToShow:8,slidesToScroll:8,initialSlide:0,centerPadding:"40px",centerMode:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:8,slidesToScroll:8,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}}},computed:{geners:function(){return this.$store.getters.getGeners}},methods:{onEmitSetGenre:function(t){console.log("genre",t),this.$emit("setGenre",t)},next:function(){this.$refs.slick.next()},prev:function(){this.$refs.slick.prev()},reInit:function(){var t=this;this.$nextTick((function(){t.$refs.slick.reSlick()}))}},components:{VueSlickCarousel:Nt.a},created:function(){}},fn=dn,hn=Object(l["a"])(fn,mn,pn,!1,null,null,null),xn=hn.exports,vn={name:"mix-list",props:{},data:function(){return{filterBySongName:"",genre:"all"}},computed:{mixes:function(){var t=this,e=this.$store.getters.getMixesForDisplay;console.log("mixes",e);var n=e;return"all"!==this.genre&&(n=n.filter((function(e){return e.genre.toLowerCase()===t.genre}))),n.filter((function(e){return e.songs.some((function(e){return e.title.toLowerCase().includes(t.filterBySongName.toLowerCase())}))}))},getGenreToDisplay:function(){return this.$store.getters.getGenreToDisplay}},methods:{setGenreShowAll:function(){this.genre="all"},setGenre:function(){this.genre=this.$store.getters.getGenreToDisplay},onSetGenre:function(t){console.log("setGenre",t),this.genre=t},onListSetFilter:function(t){this.$store.commit({type:"setGenre",genre:t})},showList:function(t){this.genre=t,this.$router.push("mix/list")}},components:{mixPreview:It,listGenresCarusselv:xn},created:function(){console.log("this.$store.getters.getGenreToDisplay",this.$store.getters.getGenreToDisplay),this.$store.dispatch({type:"loadMixes"}),this.setGenre()}},yn=vn,Sn=Object(l["a"])(yn,ln,gn,!1,null,null,null),Cn=Sn.exports;s["default"].use(vt["a"]);var _n=[{path:"/",component:ce},{path:"/login",component:m},{path:"/signup",component:v},{path:"/mix/list",component:Cn},{path:"/test",component:Ae},{path:"/mix/details",component:sn},{path:"/mix/details/:mixId",component:sn}],wn=new vt["a"]({routes:_n}),bn=wn,Mn=n("2f62"),Pn=(n("b0c0"),{state:{mixes:null,topMixes:null,genre:"all",currMix:null,currSongPlaying:null,isPlaying:!1,geners:["funk","pop","rock","electro","classic","israeli","techno","trance"]},getters:{getMixesForDisplay:function(t){return t.mixes},getGenreToDisplay:function(t){return t.genre},getCurrSongPlaying:function(t){return t.currSongPlaying},getMix:function(t){return t.currMix},getThisIsPlaying:function(t){return t.isPlaying},getCurrSongIsPlaying:function(t){if(t.currSongPlaying)return t.currSongPlaying.isPlaying},getTopMixes:function(t){return t.topMixes},getGeners:function(t){return t.geners},currentRouteName:function(){return this.$route.name}},mutations:{setSortedMixes:function(t,e){var n="likes",s=e.mixes.sort((function(t,e){var s=t[n],i=e[n];return i-s})),i=s.slice(0,3);t.topMixes=i},setMixes:function(t,e){t.mixes=e.mixes},setGenre:function(t,e){t.genre=e.genre,console.log("setGenre",t.genre)},setCurrSong:function(t,e){t.currSongPlaying=e.song,t.currSongPlaying.isPlaying=!0},removeCurrSong:function(t,e){var n=t.mixes[t.currMix._id].songs.findIndex((function(t){return t.id===e.song.id}));t.mixes[t.currMix._id].songs.splice(n,1),console.log(t.mixes[t.currMix._id].songs)},setMix:function(t,e){t.currMix=e.mix},setMixEmpty:function(t,e){t.currMix=null},nowPlaying:function(t,e){t.isPlaying=e.isPlaying},stopSongPlaying:function(t,e){t.currSongPlaying.isPlaying=!1},startSongPlaying:function(t,e){t.currSongPlaying.isPlaying=!0},stopAllPlaying:function(t,e){e.songs.forEach((function(t){t.id!==e.song.id&&(t.isPlaying=!1)}))},setPrevSongNotPlaying:function(t,e){t.currMix.songs[e.songIdx].isPlaying=!1},resetIconsState:function(t){t.currMix.songs.forEach((function(t){return t.isPlaying=!1}))}},actions:{getTopMixes:function(t){return Object(O["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,G.query();case 2:n=e.sent,t.commit({type:"setSortedMixes",mixes:n});case 4:case"end":return e.stop()}}),e)})))()},getMixById:function(t,e){return Object(O["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=e.mixId,n.next=3,G.getById(s);case 3:i=n.sent,t.commit({type:"setMix",mix:i});case 5:case"end":return n.stop()}}),n)})))()},loadMixes:function(t){return Object(O["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,G.query();case 2:return n=e.sent,t.commit({type:"setMixes",mixes:n}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))()},getSongById:function(t,e){return Object(O["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,G.getSongByIdAndMix(e.songId,e.mixId);case 2:return s=n.sent,t.commit({type:"setCurrSong",song:s}),n.abrupt("return",s);case 5:case"end":return n.stop()}}),n)})))()},saveMix:function(t,e){return Object(O["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,G.update(e.mix);case 2:return s=n.sent,t.commit({type:"setMix",mix:s}),n.abrupt("return",s);case 5:case"end":return n.stop()}}),n)})))()},sortByNumber:function(t,e){console.log("sort"),t.sort((function(t,n){var s=t[e],i=n[e];return s-i}))}}}),$n={query:kn,getById:Tn,remove:In,save:On,update:Nn,login:jn,logout:Un,signup:Rn};function kn(){return E.get("user")}function Tn(t){return E.get("user/".concat(t))}function In(t){return E.delete("user/".concat(t))}function On(t){return E.post("user",t)}function Nn(t){return E.put("user/".concat(t._id),t)}function jn(t){return Ln.apply(this,arguments)}function Ln(){return Ln=Object(O["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,E.post("auth/login",e);case 2:return n=t.sent,t.abrupt("return",Gn(n));case 4:case"end":return t.stop()}}),t)}))),Ln.apply(this,arguments)}function Un(){return En.apply(this,arguments)}function En(){return En=Object(O["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,E.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return t.stop()}}),t)}))),En.apply(this,arguments)}function Rn(t){return Dn.apply(this,arguments)}function Dn(){return Dn=Object(O["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,E.post("auth/signup",e);case 2:return n=t.sent,t.abrupt("return",Gn(n));case 4:case"end":return t.stop()}}),t)}))),Dn.apply(this,arguments)}function Gn(t){return sessionStorage.setItem("user",JSON.stringify(t)),t}var An={state:{loggedinUser:null,users:[],isLogin:!1,isSignup:!1},getters:{getLoggedinUser:function(t){return t.loggedinUser},isAdmin:function(){},getIsLogin:function(t){return t.isLogin},getIsSignup:function(t){return t.isSignup},getUsers:function(t){return t.users}},mutations:{setUser:function(t,e){var n=e.user;t.loggedinUser=n},setUsers:function(t,e){var n=e.users;t.users=n},setLogin:function(t){t.isLogin=!t.isLogin,t.isSignup=!1},setSignup:function(t){t.isSignup=!t.isSignup,t.isLogin=!1}},actions:{login:function(t,e){return Object(O["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("userCred",e.userCred),n.next=3,$n.login(e.userCred);case 3:return s=n.sent,t.commit({type:"setUser",user:s}),n.abrupt("return",s);case 6:case"end":return n.stop()}}),n)})))()},logout:function(t){return Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$n.logout();case 2:t.commit({type:"setUsers",users:[]}),t.commit({type:"setUser",user:null});case 4:case"end":return e.stop()}}),e)})))()},signup:function(t,e){return Object(O["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=e.userCred,n.next=3,$n.signup(s);case 3:return i=n.sent,t.commit({type:"setUser",user:i}),n.abrupt("return",i);case 6:case"end":return n.stop()}}),n)})))()}}},Hn={state:{},getters:{},mutations:{},actions:{sendMsg:function(t,e){var n=e.msg;st.emit("sendMsg",n)},getChatHistory:function(t,e){var n=e.chatId;st.emit("getHistory",n)}}};s["default"].use(Mn["a"]);var Bn=new Mn["a"].Store({strict:!0,state:{},mutations:{},actions:{},modules:{mixStore:Pn,userStore:An,socketStore:Hn}}),Jn=(n("3c61"),n("5c96")),qn=n.n(Jn),Vn=(n("0fae"),n("e0ec")),Fn=n.n(Vn),zn=(n("0a63"),n("0150")),Wn=n.n(zn),Kn=n("fb19"),Yn=n.n(Kn);n("278f");s["default"].component("marquee-text",Wn.a),s["default"].use(Fn.a),s["default"].use(qn.a),s["default"].component("vue-draggable-resizable",Yn.a);var Qn=new s["default"],Zn=Qn;new s["default"]({router:bn,store:Bn,render:function(t){return t(ht)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"7f61":function(t,e,n){"use strict";n("a70e")},"9bcc":function(t,e,n){},"9c0c":function(t,e,n){},a38d:function(t,e,n){t.exports=n.p+"img/logo_r_animated_v3.aa826bd1.gif"},a652:function(t,e,n){"use strict";n("3010")},a70e:function(t,e,n){},ae48:function(t,e,n){"use strict";n("f6a1")},e2d4:function(t,e,n){t.exports=n.p+"img/equalizer.3a179951.gif"},ebb8:function(t,e,n){t.exports=n.p+"img/loader.b9d145de.gif"},f6a1:function(t,e,n){},f8e7:function(t,e,n){"use strict";n("9bcc")}});
//# sourceMappingURL=app.2e87e02f.js.map