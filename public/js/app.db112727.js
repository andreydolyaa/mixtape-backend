(function(e){function t(t){for(var s,o,a=t[0],c=t[1],u=t[2],g=0,m=[];g<a.length;g++)o=a[g],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);l&&l(t);while(m.length)m.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(s=!1)}s&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var s={},i={app:0},r=[];function o(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=s,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},3010:function(e,t,n){},"3c61":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t),n.d(t,"eventBus",(function(){return Wn}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("appHeader"),n("router-view"),n("div",{staticClass:"global"},[n("globalPlayer")],1)],1)},r=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"app-header"},[n("div",{staticClass:"logo",class:e.isPlaying,on:{click:e.resetIcon}},[n("router-link",{attrs:{to:"/"}},[n("img",{staticClass:"reflect",attrs:{src:"https://res.cloudinary.com/hw-projects/image/upload/v1606479695/appmixes/logo_r_animated_v3_first_Frame"}})]),n("router-link",{attrs:{to:"/"}},[n("h2",{staticClass:"brand-name"},[e._v("mixTape")])])],1),e.user?n("div",{staticClass:"user-display"},[e._v("Hello "+e._s(e.user.username))]):e._e(),n("nav",{staticClass:"main-nav"},[n("div",{staticClass:"nav-mix"},[n("router-link",{attrs:{to:"/mix/list"}},[e._v("Mixes")]),n("router-link",{attrs:{to:"/mix/details"}},[e._v("Create Mix")])],1),n("div",{staticClass:"nav-user-pos"},[n("div",{staticClass:"nav-user"},[n("el-menu",{attrs:{"default-active":"2",collapse:e.isCollapse},on:{open:e.handleOpen,close:e.handleClose}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("span",{staticClass:"user-avater"},[n("i",{staticClass:"fas fa-user-circle"})])]),n("el-menu-item-group",[e.user?n("el-menu-item",{attrs:{index:"1-1"},on:{click:e.onSetLogout}},[e._v("Logout")]):n("el-menu-item",{attrs:{index:"1-1"},on:{click:e.onSetLogin}},[e._v("Login")]),e.user?e._e():n("el-menu-item",{attrs:{index:"1-2"},on:{click:e.onSetSignup}},[e._v("Signup")])],1)],2)],1)],1)])])])])},a=[],c={data:function(){return{isCollapse:!1}},methods:{resetIcon:function(){Wn.$emit("reset-icons")},onSetLogin:function(){this.$store.commit({type:"setLogin"})},onSetSignup:function(){this.$store.commit({type:"setSignup"})},onSetLogout:function(){this.$store.dispatch({type:"logout"})},handleOpen:function(e,t){},handleClose:function(e,t){}},computed:{getCurrMix:function(){return this.$store.getters.getMix},user:function(){return this.$store.getters.getLoggedinUser},getCurrSong:function(){return this.$store.getters.getCurrSongPlaying},isPlaying:function(){var e=this.$store.getters.getCurrSongIsPlaying;return e?"logo-playing":"logo-stop"},isLogin:function(){return this.$store.getters.getIsLogin}}},u=c,l=(n("7f61"),n("2877")),g=Object(l["a"])(u,o,a,!1,null,null,null),m=g.exports,p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"app-footer"},[n("div",{staticClass:"logo",class:e.isPlaying},[n("router-link",{attrs:{to:"/"}},[n("img",{staticClass:"reflect",attrs:{src:"https://res.cloudinary.com/hw-projects/image/upload/v1606479695/appmixes/logo_r_animated_v3_first_Frame"}})])],1),n("h2",[e._v("Created by: Andery Dolya | Eilon Shetrit | Weingarten Harel")])])])},d=[],f={computed:{isPlaying:function(){var e=this.$store.getters.getCurrSongIsPlaying;return e?"logo-playing":"logo-stop"}}},h=f,x=Object(l["a"])(h,p,d,!1,null,null,null),v=x.exports,y=(n("7db0"),n("96cf"),n("1da1")),S=(n("99af"),n("bc3a")),C=n.n(S),_="/api/",w=C.a.create({withCredentials:!0}),b={get:function(e,t){return M(e,"GET",t)},post:function(e,t){return M(e,"POST",t)},put:function(e,t){return M(e,"PUT",t)},delete:function(e,t){return M(e,"DELETE",t)}};function M(e){return P.apply(this,arguments)}function P(){return P=Object(y["a"])(regeneratorRuntime.mark((function e(t){var n,s,i,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"get",s=r.length>2&&void 0!==r[2]?r[2]:null,e.prev=2,e.next=5,w({url:"".concat(_).concat(t),method:n,data:s});case 5:return i=e.sent,e.abrupt("return",i.data);case 9:throw e.prev=9,e.t0=e["catch"](2),console.log("Had issues ".concat(n,"ing to server"),e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,9]])}))),P.apply(this,arguments)}var k={query:$,getById:T,remove:I,save:O,update:j,getSongByIdAndMix:N,createNewSong:R};function $(){return b.get("mix")}function T(e){return b.get("mix/".concat(e))}function I(e){return b.delete("mix/".concat(e))}function O(e){return b.post("mix",e)}function j(e){return b.put("mix/".concat(e._id),e)}function N(e,t){return E.apply(this,arguments)}function E(){return E=Object(y["a"])(regeneratorRuntime.mark((function e(t,n){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T(n);case 2:return s=e.sent,i=s.songs.find((function(e){return e.id===t})),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function R(){return{title:"",id:U(),songUrlId:"",imgUrl:"",addedBy:"minimal-user",duration:"3:21",isPlaying:!1}}function U(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<e;s++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}var L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"globalPlayer"},[n("div",[e.getCurrSongPlaying?n("div",[n("youtube",{ref:"youtube",staticClass:"youtube-window",attrs:{"video-id":e.getCurrSongPlaying.songUrlId,"player-vars":e.playerVars},on:{playing:e.playing,ended:e.ended}})],1):e._e()]),n("div",{staticClass:"global-player"},[n("div",{staticClass:"logo",class:e.isPlayingClass},[n("router-link",{attrs:{to:"/"}},[n("img",{staticClass:"reflect",attrs:{src:"https://res.cloudinary.com/hw-projects/image/upload/v1606479695/appmixes/logo_r_animated_v3_first_Frame"}})])],1),e.getCurrSongPlaying?n("h2",[e._v(e._s(e.getCurrSongPlaying.title))]):n("h2",[e._v("Artist - Unknown")]),n("div",{staticClass:"progress-bar"},[e.currTime?n("p",[e._v(e._s(e.currTime))]):n("p",[e._v("00:00")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.currTimePlaying,expression:"currTimePlaying"}],attrs:{type:"range",min:e.currTime,max:e.totalTimeInput},domProps:{value:e.currTimePlaying},on:{input:function(t){return e.moveTo()},__r:function(t){e.currTimePlaying=t.target.value}}}),e.totalTime?n("p",[e._v(e._s(e.totalTime))]):n("p",[e._v("00:00")])]),n("div",{staticClass:"step-btn"},[n("button",{on:{click:e.onPrevSong}},[n("i",{staticClass:"fas fa-step-backward"})]),e.isPlayingNow?n("button",{on:{click:e.pause}},[n("i",{staticClass:"far fa-pause-circle"})]):n("button",{on:{click:e.play}},[n("i",{staticClass:"fas fa-play"})]),n("button",{on:{click:e.onNextSong}},[n("i",{staticClass:"fas fa-step-forward"})])]),n("div",[e.isMuted?n("button",{on:{click:e.unmute}},[n("i",{staticClass:"fas fa-volume-mute"})]):n("button",{on:{click:e.mute}},[n("i",{staticClass:"fas fa-volume-up"})])])])])},A=[],B=(n("c740"),n("fb6a"),{convertSecondsToTime:D});function D(e){var t=0;return e/60>0&&(t=parseInt(e/60,10),e%=60),t/60>0&&(parseInt(t/60,10),t%=60),("0"+t).slice(-2)+":"+("0"+e).slice(-2)}var G,H=n("8055"),J=n.n(H),V="/",F={setup:q,terminate:z,on:W,off:K,emit:X};function q(){G=J()(V)}function z(){G=null}function W(e,t){G.on(e,t)}function K(e,t){G.off(e,t)}function X(e,t){G.emit(e,t)}var Y={name:"global-player",data:function(){return{songId:"",isPlaying:!1,isPause:!1,playerVars:{autoplay:1,origin:window.location.origin},currTime:0,currTimePlaying:0,totalTime:0,totalTimeInput:0,isMuted:!1}},computed:{player:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.youtube.player;case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},getCurrSongPlaying:function(){return this.$store.getters.getCurrSongPlaying},isPlayingNow:function(){return this.$store.getters.getCurrSongIsPlaying},currMix:function(){return this.$store.getters.getMix},timePlaying:function(){return this.currTimePlaying},isPlayingClass:function(){var e=this.$store.getters.getCurrSongIsPlaying;return e?"logo-playing":"logo-stop"}},methods:{pause:function(){this.$refs.youtube.player.pauseVideo(),this.$store.commit({type:"stopSongPlaying"});var e=this.getCurrSongPlaying.songUrlId,t=this.currMix.songs.findIndex((function(t){return t.songUrlId===e})),n=JSON.parse(JSON.stringify(this.currMix));n.songs[t].isPlaying=!1,this.$store.dispatch({type:"saveMix",mix:n})},play:function(){this.$refs.youtube.player.playVideo(),this.$store.commit({type:"startSongPlaying"});var e=this.getCurrSongPlaying.songUrlId,t=this.currMix.songs.findIndex((function(t){return t.songUrlId===e})),n=JSON.parse(JSON.stringify(this.currMix));n.songs[t].isPlaying=!0,this.$store.dispatch({type:"saveMix",mix:n})},playing:function(e){var t=this;this.totalTimeInput=Math.floor(e.getDuration()),this.totalTime=B.convertSecondsToTime(Math.floor(e.getDuration())),setInterval((function(){t.currTime=B.convertSecondsToTime(Math.floor(e.getCurrentTime())),t.currTimePlaying=Math.floor(e.getCurrentTime()),F.emit("move-to-new-time",t.currTimePlaying)}),1e3),Wn.$on("getTime",(function(){F.emit("move-to-new-time",t.currTimePlaying)}))},ended:function(){this.autoPlayNextSong()},autoPlayNextSong:function(){this.currMix.songs.length;var e,t=this.getCurrSongPlaying.songUrlId,n=this.currMix.songs.findIndex((function(e){return e.songUrlId===t}));this.$store.commit({type:"setPrevSongNotPlaying",songIdx:n}),n<this.currMix.songs.length-1?e=this.currMix.songs[n+1]:n===this.currMix.songs.length-1&&(e=this.currMix.songs[0]);var s=e.songUrlId;this.$refs.youtube.player.loadVideoById(s),this.$store.commit({type:"setCurrSong",song:e}),this.$store.commit({type:"startSongPlaying"});var i=JSON.parse(JSON.stringify(this.currMix));i.songs[n].isPlaying=!1,this.$store.dispatch({type:"saveMix",mix:i}),F.emit("next-song",e)},moveTo:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.youtube.player.seekTo(e.currTimePlaying,!0);case 2:F.emit("move-to",e.currTimePlaying);case 3:case"end":return t.stop()}}),t)})))()},onNextSong:function(){this.autoPlayNextSong()},onPrevSong:function(){this.currMix.songs.length;var e,t=this.getCurrSongPlaying.songUrlId,n=this.currMix.songs.findIndex((function(e){return e.songUrlId===t}));n>0?e=this.currMix.songs[n-1]:0===n&&(e=this.currMix.songs[this.currMix.songs.length-1]);var s=e.songUrlId;this.$refs.youtube.player.loadVideoById(s),this.$store.commit({type:"setCurrSong",song:e}),this.$store.commit({type:"startSongPlaying"}),this.$store.commit({type:"setPrevSongNotPlaying",songIdx:n});var i=JSON.parse(JSON.stringify(this.currMix));i.songs[n].isPlaying=!1,this.$store.dispatch({type:"saveMix",mix:i}),F.emit("prev-song",e)},mute:function(){this.isMuted=!0,this.$refs.youtube.player.mute()},unmute:function(){this.isMuted=!1,this.$refs.youtube.player.unMute()}},created:function(){var e=this;F.setup(),F.emit("join room",this.room),Wn.$on("pause-music",(function(){e.pause()})),Wn.$on("resume-music",(function(){e.play()})),Wn.$on("song-time",(function(t){e.$refs.youtube.player.seekTo(t,!0),e.currTimePlaying=t})),Wn.$on("song-time-sync",(function(t){e.$refs.youtube.player.seekTo(t,!0),e.currTimePlaying=t,Wn.$off("song-time-sync")}))}},Q=Y,Z=Object(l["a"])(Q,L,A,!1,null,null,null),ee=Z.exports,te={props:{},created:function(){this.$store.dispatch({type:"loadMixes"})},computed:{currentRouteName:function(){return this.$store.getters.currentRouteName}},components:{appHeader:m,appFooter:v,globalPlayer:ee}},ne=te,se=(n("5c0b"),Object(l["a"])(ne,i,r,!1,null,null,null)),ie=se.exports,re=n("9483");Object(re["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var oe=n("8c4f"),ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"mix-app"},[e.isLogin?n("mix-login",{staticClass:"centered"}):e._e(),e.isSignup?n("mix-signup",{staticClass:"centered"}):e._e(),n("mix-home")],1)])},ce=[],ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"mix-home"},[n("mixHero",{on:{refName:e.scrollMeTo}}),n("div",{staticClass:"top-mixes container"},[n("h2",[e._v(" Top Mixes ")]),n("ul",{staticClass:"top-mixes"},e._l(e.topMixes,(function(e){return n("li",{key:e._id},[n("mix-preview",{attrs:{mix:e}})],1)})),0)]),e.geners?n("ul",{ref:"mix-list-home-container",staticClass:"mixes-list-ul"},e._l(e.geners,(function(t,s){return n("li",{key:t,staticClass:"mixes-list-li"},[n("mix-list-Home",{attrs:{genre:e.geners[s]}})],1)})),0):e._e()],1),n("mix-footer")],1)},le=[],ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{ref:"mix-list-home",staticClass:"mix-list-home container"},[n("div",{ref:"mix-list-home container"},[n("nav",{staticClass:"mixes-nav"},[n("div",{staticClass:"genre-title"},[e._v(e._s(e.genre))]),n("ul",{staticClass:"nav-show-all-ul"},[n("li",{staticClass:"mix-link-show-all",on:{click:function(t){return e.showList(e.genre)}}},[e._v(" Show all "),e._m(0)])])]),[e.mixes?n("VueSlickCarousel",e._b({scopedSlots:e._u([{key:"prevArrow",fn:function(t){return[n("div",{staticClass:"custom-arrow"},[e._v(" "+e._s(t.currentSlide)+"/"+e._s(t.slideCount)+" ")])]}}],null,!1,2816469163)},"VueSlickCarousel",e.settings,!1),e._l(e.mixes,(function(e){return n("li",{key:e._id},[n("mix-preview",{attrs:{mix:e}})],1)})),0):e._e()]],2)])},me=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("i",{staticClass:"fas fa-angle-double-right"})])}],pe=(n("4de4"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.mix?n("section",{staticClass:"details"},[n("div",{staticClass:"mix",on:{click:function(t){return e.onMixView(e.mix._id)}}},[n("div",{staticClass:"images"},[n("img",{staticClass:"mix-image shadow",attrs:{src:e.mix.imgUrl}}),n("img",{staticClass:"img-frame",attrs:{src:"https://res.cloudinary.com/hw-projects/image/upload/v1606518099/appmixes/logo_frame.png"}})]),n("div",{staticClass:"info"},[n("span",{staticClass:"mix-name",class:e.checkLang},[e._v(e._s(e.mix.name))]),n("span",{staticClass:"mix-desc"},[e._v(e._s(e.mix.desc))]),n("div",{staticClass:"stats"},[n("span",{staticClass:"mix-likes"},[e._v(e._s(e.mix.likes)+" "),n("i",{staticClass:"fas fa-heart"})]),n("span",{staticClass:"mix-views"},[e._v(e._s(e.mix.views)+" "),n("i",{staticClass:"fas fa-eye"})]),n("span",{staticClass:"mix-amount"},[e._v(e._s(e.songsAmount)+" "),n("i",{staticClass:"fas fa-compact-disc"})])])])])]):e._e()}),de=[],fe={name:"mix-preview",props:{mix:Object},computed:{checkLang:function(){return"israeli"===this.mix.genre?"mix-name isreali":"mix-name"},getMix:function(){return this.$store.getters.getMix},getSong:function(){return this.$store.getters.getCurrSongPlaying},songsAmount:function(){return this.mix.songs.length}},methods:{onMixView:function(e){this.$router.push("/mix/details/".concat(e))}},created:function(){}},he=fe,xe=Object(l["a"])(he,pe,de,!1,null,null,null),ve=xe.exports,ye=n("a7ab"),Se=n.n(ye),Ce=(n("7b8d"),n("6a2c"),{name:"mix-list-home",props:{genre:{type:String,default:null}},data:function(){return{a:null,videoId:"BubwLnPcQjc",mixTopA:null,currMix:"",settings:{dots:!0,infinite:!1,speed:500,slidesToShow:4,slidesToScroll:4,initialSlide:0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}}},computed:{currSongPlaying:function(){return this.$store.getters.getCurrSongPlaying},mixes:function(){var e=this,t=this.$store.getters.getMixesForDisplay;if(t){if(!this.genre)return t;var n=t.filter((function(t){return t.genre.toLowerCase()===e.genre.toLowerCase()}));return n}},getMix:function(){return this.$store.getters.getMix}},methods:{showList:function(e){console.log("genre",e),this.$store.commit({type:"setGenre",genre:e}),this.$router.push("mix/list")}},components:{mixPreview:ve,VueSlickCarousel:Se.a},created:function(){}}),_e=Ce,we=Object(l["a"])(_e,ge,me,!1,null,null,null),be=we.exports,Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"hero"},[n("div",{ref:"baba",staticClass:"hero-text-area"},[n("h2",[e._v("Enjoy ,Create ,Share an asewome mixTape")]),n("div",{staticClass:"buttons"},[n("a",{staticClass:"button start-listening",on:{click:function(t){return e.emitScrollMeTo("mix-list-home-container")}}},[e._v("Start listening")]),n("a",{staticClass:"button create-playlist",on:{click:function(t){return e.createNewPlaylist()}}},[e._v("Create Playlist")])])]),n("mix-carousel")],1)},Pe=[],ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-carousel",{attrs:{"indicator-position":"outside",interval:24e3,autoplay:!0}},e._l(e.imgs,(function(e){return n("el-carousel-item",{key:e},[n("img",{staticClass:"left",attrs:{src:e}})])})),1)},$e=[],Te={name:"mix-carosel",data:function(){return{imgs:["https://res.cloudinary.com/hw-projects/image/upload/v1606309308/appmixes/party002.jpg"]}},props:{},components:{},computed:{},created:function(){}},Ie=Te,Oe=(n("a652"),Object(l["a"])(Ie,ke,$e,!1,null,null,null)),je=Oe.exports,Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"video"},[n("video",{ref:"myVideo",attrs:{id:"myVideo",width:"1280",height:"720",autoplay:"",loop:""}},[n("source",{attrs:{src:"https://res.cloudinary.com/hw-projects/video/upload/v1606349974/appmixes/MergedVideo_1_online-video-cutter.com_gqlbzp.mp4",type:"video/mp4"}}),e._v(" Your browser does not support HTML5 video. ")])])},Ee=[],Re={data:function(){return{videoId:"lG0Ys-2d4MA"}},methods:{playVideoNative:function(){}},computed:{},created:function(){this.playVideoNative()}},Ue=Re,Le=Object(l["a"])(Ue,Ne,Ee,!1,null,null,null),Ae=Le.exports,Be={props:{},data:function(){return{}},methods:{emitScrollMeTo:function(e){this.$emit("refName",e)},createNewPlaylist:function(){this.$store.commit({type:"setMixEmpty"}),this.$router.push("mix/details")}},components:{mixCarousel:je,mixVideoPlayer:Ae},computed:{},created:function(){}},De=Be,Ge=Object(l["a"])(De,Me,Pe,!1,null,null,null),He=Ge.exports,Je={name:"mix-home",data:function(){return{}},components:{mixHero:He,mixListHome:be,mixVideo:Ae,globalPlayer:ee,mixPreview:ve,mixFooter:v},computed:{geners:function(){return this.$store.getters.getGeners},topMixes:function(){var e=this.$store.getters.getTopMixes;return console.log("mixes",e),e}},methods:{scrollMeTo:function(e){console.log("scrollMeTo",e);var t=this.$refs[e];console.log("element",t,this.$refs);var n=t.offsetTop;window.scrollTo(0,n)},getMixTop:function(){var e=this.$store.dispatch({type:"getMixByIdPrivate",mixId:"5c013"});console.log("mixTop",e)}},watch:{status:function(e,t){getCurrSongPlaying.isPlaying?console.log("playing"):console.log("Not Playing")}},created:function(){this.$store.dispatch({type:"getTopMixes"})}},Ve=Je,Fe=Object(l["a"])(Ve,ue,le,!1,null,null,null),qe=Fe.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loggedinUser?e._e():n("section",{staticClass:"login-user"},[n("h1",[e._v("Login")]),n("div",{staticClass:"checkLogin"},[n("form",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}}},[n("el-input",{attrs:{type:"text",placeholder:"User name",required:"",clearable:""},model:{value:e.cerdentials.email,callback:function(t){e.$set(e.cerdentials,"email",t)},expression:"cerdentials.email"}}),n("br"),n("el-input",{attrs:{type:"text",placeholder:"Password","show-password":"",required:"",clearable:""},model:{value:e.cerdentials.password,callback:function(t){e.$set(e.cerdentials,"password",t)},expression:"cerdentials.password"}}),n("br"),n("el-button",{attrs:{type:"success"},on:{click:function(t){return t.preventDefault(),e.login(t)}}},[e._v("Login")])],1)])])},We=[],Ke={name:"login",data:function(){return{cerdentials:{email:"",password:""}}},computed:{loggedinUser:function(){var e=this.$store.getters.getLoggedinUser;return console.log("user",e),e}},created:function(){},methods:{login:function(){console.log("here"),this.$store.dispatch({type:"login",userCred:this.cerdentials})}},watch:{}},Xe=Ke,Ye=Object(l["a"])(Xe,ze,We,!1,null,null,null),Qe=Ye.exports,Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loggedinUser?e._e():n("section",{staticClass:"signup-user"},[n("h1",[e._v("Signup")]),n("form",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signup(t)}}},[n("span",[e._v("*")]),n("el-input",{attrs:{type:"email",placeholder:"Email",required:"",clearable:""},model:{value:e.cerdentials.email,callback:function(t){e.$set(e.cerdentials,"email",t)},expression:"cerdentials.email"}}),n("br"),n("span",[e._v("*")]),n("el-input",{attrs:{type:"text",placeholder:"Username",required:"",clearable:""},model:{value:e.cerdentials.username,callback:function(t){e.$set(e.cerdentials,"username",t)},expression:"cerdentials.username"}}),n("br"),n("span",[e._v("*")]),n("el-input",{attrs:{type:"text",placeholder:"Password","show-password":"",required:"",clearable:""},model:{value:e.cerdentials.password,callback:function(t){e.$set(e.cerdentials,"password",t)},expression:"cerdentials.password"}}),n("br"),n("el-button",{attrs:{type:"success"},on:{click:function(t){return t.preventDefault(),e.signup(t)}}},[e._v("Signup")])],1),n("br"),e._m(0)])},et=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("span",[e._v("*")]),e._v(" - this is a required field")])}],tt={name:"signup",data:function(){return{cerdentials:{email:"",username:"",password:""}}},computed:{loggedinUser:function(){return this.$store.getters.getLoggedinUser}},created:function(){},methods:{signup:function(){this.$store.dispatch({type:"signup",userCred:this.cerdentials})}},components:{},watch:{}},nt=tt,st=(n("c18f"),Object(l["a"])(nt,Ze,et,!1,null,"bfc9fbee",null)),it=st.exports,rt={data:function(){return{}},computed:{isLogin:function(){return this.$store.getters.getIsLogin},isSignup:function(){return this.$store.getters.getIsSignup}},components:{mixHome:qe,mixLogin:Qe,mixSignup:it}},ot=rt,at=Object(l["a"])(ot,ae,ce,!1,null,null,null),ct=at.exports,ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.mix?n("section",{staticClass:"mix-details flex"},[n("div",{staticClass:"mix-full-info flex"},[n("section",{staticClass:"header-mix-info flex"},[n("section",{staticClass:"mix-img flex start"},[n("form",[e.isLoading?n("img",{staticClass:"loader",attrs:{src:"https://i.pinimg.com/originals/65/ba/48/65ba488626025cff82f091336fbf94bb.gif"}}):[n("div",{staticClass:"update-img-mix"},[n("label",{staticClass:"imgUploader",attrs:{for:"imgUploader"}},[n("img",{attrs:{src:e.currMix.imgUrl}}),e._m(0)])]),n("input",{attrs:{type:"file",name:"img-uploader",id:"imgUploader",hidden:""},on:{change:e.onUploadImg}})]],2)]),n("section",{staticClass:"mix-info-main"},[n("section",{staticClass:"mix-info"},[e.isTitleHide?n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.currMix.name,expression:"currMix.name"}],attrs:{type:"text"},domProps:{value:e.currMix.name},on:{input:function(t){t.target.composing||e.$set(e.currMix,"name",t.target.value)}}}),n("span",{on:{click:function(t){return t.preventDefault(),e.saveChange(e.currMix)}}},[n("i",{staticClass:"far fa-save"})])]):n("h2",{staticClass:"mix-title"},[e._v(" "+e._s(e.currMix.name)),n("span",{staticClass:"edit-txt",on:{click:e.toggleEditTitle}},[n("i",{staticClass:"edit fas fa-pen"})])]),e.isDescHide?n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currMix.desc,expression:"currMix.desc"}],attrs:{name:"desc",id:"desc",cols:"30",rows:"10"},domProps:{value:e.currMix.desc},on:{input:function(t){t.target.composing||e.$set(e.currMix,"desc",t.target.value)}}}),n("span",{on:{click:function(t){return e.saveChange(e.currMix)}}},[n("i",{staticClass:"far fa-save"})])]):n("p",{staticClass:"description"},[e._v(" "+e._s(e.currMix.desc)+" "),n("span",{on:{click:e.toggleEditDesc}},[n("i",{staticClass:"fas fa-pen"})])]),n("div",{staticClass:"mix-genre"},[n("h4",[e._v(e._s(e.currMix.genre))]),n("mix-select-genre",{staticClass:"select-genre",attrs:{selectType:""},on:{selectType:e.setGenre}})],1),n("div",{staticClass:"stats"},[n("div",{staticClass:"mix-views"},[n("h4",[e._v(e._s(e.currMix.views))]),n("i",{staticClass:"fas fa-eye"})]),n("div",{staticClass:"mix-like"},[n("div",{staticClass:"like-song"},[n("span",{staticClass:"likes-count"},[e._v(e._s(e.currMix.likes))]),n("i",{staticClass:"far fa-heart",class:e.heartMode,on:{click:e.addLike}})])])])]),n("section",{staticClass:"user-info"},[n("h5",[n("span",[e._v("Created by: "),n("img",{attrs:{src:e.currMix.createdBy.imgUrl}})]),n("span",[e._v(e._s(e.currMix.createdBy.fullName))])])]),n("section",{staticClass:"general-info"})])]),n("div",{staticClass:"search-and-social"},[n("div",{staticClass:"songs"},[n("mix-song-list",{attrs:{songs:e.currMix.songs,mix:e.currMix},on:{emitRemoveSong:e.removeSongFromMix,emitSongPos:e.changeSongPos,updateMix:e.saveChange}})],1)])]),n("div",{staticClass:"mix-chat"},[n("mix-chat",{attrs:{mixId:e.roomId}})],1)]):e._e()},lt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"image-edit-button"},[n("i",{staticClass:"fas fa-pen"})])}],gt=(n("4160"),n("a434"),n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section")}),mt=[],pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"songs-list flex column"},[e.mix?n("div",{staticClass:"search-song-and-social-container"},[n("div",{staticClass:"search-and-add"},[n("i",{staticClass:"fas fa-plus-circle",on:{click:e.openInputApi}}),n("i",{staticClass:"fas fa-search",on:{click:e.openInputSearch}}),e.isAdd?n("mixApiSearch"):e._e(),e.isAdd?e._e():n("div",{staticClass:"search-song"},[n("el-input",{attrs:{type:"text",placeholder:"Search song in mix...",clearable:""},on:{input:e.filterBySong},model:{value:e.songTxt,callback:function(t){e.songTxt=t},expression:"songTxt"}})],1)],1),n("mix-social")],1):e._e(),e.mix?n("ul",{staticClass:"songsUl"},[e.filterBySong?n("draggable",{attrs:{group:"people"},on:{start:function(t){e.drag=!0},end:e.stopDrag}},e._l(e.filterBySong,(function(t,s){return n("li",{key:t.id,staticClass:"songs-details-main flex"},[n("div",{staticClass:"songs-details"},[t.isPlaying?n("button",{on:{click:function(n){return e.pauseSong(t)}}},[n("i",{staticClass:"fas fa-pause",class:t.isPlaying?"highlight-color":"default-color"})]):n("button",{on:{click:function(n){e.setCurrSongPlaying(t),e.startSongPlaying(t,e.filterBySong)}}},[n("i",{staticClass:"fas fa-play"})]),n("img",{attrs:{src:t.imgUrl}}),n("p",{class:t.isPlaying?"highlight-color":"default-color"},[e._v(e._s(t.title))]),n("span",{staticClass:"song-duration"},[e._v(e._s(t.duration))])]),n("div",{staticClass:"sort-songs-buttons"},[n("button",{on:{click:function(t){return e.emitSongPos(s,-1)}}},[n("i",{staticClass:"fas fa-sort-up"})]),n("button",{on:{click:function(t){return e.emitSongPos(s,1)}}},[n("i",{staticClass:"fas fa-sort-down"})])]),n("span",{staticClass:"delete-song",on:{click:function(n){return e.emitSongId(t.id)}}},[n("i",{staticClass:"far fa-trash-alt"})])])})),0):e._e()],1):e._e()])},dt=[],ft=(n("caad"),n("2532"),n("b76a")),ht=n.n(ft),xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"searchTest"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.getSearchResults()}}},[n("el-input",{attrs:{type:"text",placeholder:"Add song to mix...",clearable:""},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),n("span",{on:{click:function(t){return e.getSearchResults()}}},[n("i",{staticClass:"fas fa-search"})])]),e.searchResults?n("div",[n("p",[e._v(e._s(e.searchResults.title))]),n("img",{attrs:{src:e.searchResults.thumbnails.default.url,alt:""}}),n("button",{on:{click:function(t){return e.addSongToMix()}}},[n("i",{staticClass:"fas fa-plus"})])]):e._e()])},vt=[],yt="AIzaSyDnI2s9KOByXBAdh2EPIDFE8pKaowsHXjE",St={query:Ct};function Ct(e){return _t.apply(this,arguments)}function _t(){return _t=Object(y["a"])(regeneratorRuntime.mark((function e(t){var n,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("https://youtube.googleapis.com/youtube/v3/search?maxResults=1&q=".concat(t,"&key=").concat(yt));case 2:return n=e.sent,s=n.data.items[0].id.videoId,e.next=6,C.a.get("https://youtube.googleapis.com/youtube/v3/videos?maxResults=1&part=snippet&&id=".concat(s,"&key=").concat(yt));case 6:return i=e.sent,i.data.items[0].snippet.songId=s,console.log("@@ song details + id - api call result: ",i.data.items[0].snippet),e.abrupt("return",i.data.items[0].snippet);case 10:case"end":return e.stop()}}),e)}))),_t.apply(this,arguments)}var wt={data:function(){return{keyword:"",searchResults:null,createNewSong:k.createNewSong(),currMix:""}},computed:{getCurrMix:function(){return this.currMix=this.$store.getters.getMix,this.currMix}},methods:{getSearchResults:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.keyword){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,St.query(e.keyword);case 4:return n=t.sent,e.searchResults=n,t.abrupt("return",e.searchResults);case 7:case"end":return t.stop()}}),t)})))()},addSongToMix:function(){var e=JSON.parse(JSON.stringify(this.getCurrMix));this.createNewSong.title=this.searchResults.title,this.createNewSong.songUrlId=this.searchResults.songId,this.createNewSong.imgUrl=this.searchResults.thumbnails.default.url,e.songs.unshift(this.createNewSong),console.log(e),this.$store.dispatch({type:"saveMix",mix:e}),this.createNewSong=k.createNewSong()}},created:function(){}},bt=wt,Mt=Object(l["a"])(bt,xt,vt,!1,null,null,null),Pt=Mt.exports,kt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},$t=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-song-and-social"},[n("section",{staticClass:"mix-social flex space-between"},[n("div",{staticClass:"share-container flex"},[n("div",{staticClass:"invite"}),n("div",{staticClass:"mix-social-nav flex space-evenly"},[n("i",{staticClass:"fab fa-facebook-square"}),n("i",{staticClass:"fab fa-whatsapp"})])])])])}],Tt={},It=Tt,Ot=Object(l["a"])(It,kt,$t,!1,null,null,null),jt=Ot.exports,Nt={name:"mix-song-list",props:{songs:Array},data:function(){return{songId:null,isAdd:!1,isPlaying:!1,mixCopy:null,songTxt:"",equalizer:""}},computed:{mix:function(){var e=this.$store.getters.getMix;if(e)return this.mixCopy=JSON.parse(JSON.stringify(e)),this.mixCopy},isNowPlaying:function(){return this.$store.getters.getThisIsPlaying},currSongPlaying:function(){return this.$store.getters.getCurrSongPlaying},getMix:function(){return this.$store.getters.getMix},filterBySong:function(){var e=this,t=this.$store.getters.getMix,n=JSON.parse(JSON.stringify(t));return this.songTxt?n.songs.filter((function(t){return t.title.toLowerCase().includes(e.songTxt.toLowerCase())})):n.songs},isSongPlaying:function(){return this.$store.getters.getCurrSongIsPlaying}},methods:{stopDrag:function(){this.$emit("updateMix",this.mixCopy)},emitSongPos:function(e,t){this.$emit("emitSongPos",{songIdx:e,diff:t})},emitSongId:function(e){this.$emit("emitRemoveSong",e)},setIsPlaying:function(){this.$store.commit({type:"nowPlaying",isPlaying:this.isPlaying})},setCurrSongPlaying:function(e){this.$store.commit({type:"setCurrSong",song:e})},startSongPlaying:function(e,t){this.$store.commit({type:"setCurrSong",song:e}),Wn.$emit("resume-music");t=JSON.parse(JSON.stringify(this.getMix));var n=this.currSongPlaying.songUrlId,s=this.getMix.songs.findIndex((function(e){return e.songUrlId===n}));t.songs.forEach((function(e){return e.isPlaying=!1})),t.songs[s].isPlaying=!0,this.$store.dispatch({type:"saveMix",mix:t}),F.emit("set-song-playing",this.currSongPlaying)},pauseSong:function(e){Wn.$emit("pause-music"),this.$store.commit({type:"stopSongPlaying",song:e});var t=this.currSongPlaying.songUrlId,n=this.getMix.songs.findIndex((function(e){return e.songUrlId===t})),s=JSON.parse(JSON.stringify(this.getMix));s.songs[n].isPlaying=!1,this.$store.dispatch({type:"saveMix",mix:s}),F.emit("pause-song-playing",this.currSongPlaying)},openInputApi:function(){this.isAdd=!0},openInputSearch:function(){this.isAdd=!1}},created:function(){var e=this;F.emit("join room",this.room),F.on("play-song",(function(t){e.$store.commit({type:"setCurrSong",song:t})})),F.on("song-time",(function(e){Wn.$emit("song-time",e)})),F.on("pause-song",(function(e){Wn.$emit("pause-music")}))},components:{mixApiSearch:Pt,draggable:ht.a,mixSocial:jt}},Et=Nt,Rt=Object(l["a"])(Et,pt,dt,!1,null,null,null),Ut=Rt.exports,Lt={},At=Lt,Bt=Object(l["a"])(At,gt,mt,!1,null,null,null),Dt=Bt.exports,Gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"chat-app"},[n("div",{staticClass:"chat-msgs"},[n("ul",[e._l(e.msgsHistory,(function(t,s){return n("li",{key:s+t},[n("p",{staticClass:"msg"},[e._v(e._s(t.name)+": "+e._s(t.txt))])])})),e._l(e.msgs,(function(t,s){return n("li",{key:s},[n("p",{staticClass:"msg"},[e._v(e._s(t.name)+": "+e._s(t.txt))])])}))],2)]),n("div",{staticClass:"chat-form"},[e.isTyping?n("p",[e._v("Someone typing...")]):e._e(),n("form",{on:{submit:function(t){return t.preventDefault(),e.sendMsg(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.msg.txt,expression:"msg.txt"}],attrs:{type:"text"},domProps:{value:e.msg.txt},on:{keydown:e.isTypingNow,keyup:e.isNotTypingNow,input:function(t){t.target.composing||e.$set(e.msg,"txt",t.target.value)}}}),n("select",{directives:[{name:"model",rawName:"v-model",value:e.msg.txt,expression:"msg.txt"}],staticClass:"emojis",attrs:{name:"emojis"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.msg,"txt",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"",selected:"",disabled:"",hidden:""}},[e._v(e._s(e.chatEmojis[0]))]),e._l(e.chatEmojis,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}))],2),e._m(0)])])])},Ht=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",[n("img",{attrs:{src:"https://res.cloudinary.com/hw-projects/image/upload/v1606416732/appmixes/send-messege_s_red.png"}})])}],Jt={props:{mixId:String},data:function(){return{msg:{name:"Me",txt:""},msgsHistory:[],msgs:[],room:this.mixId,isTyping:!1,chatEmojis:["🤙","😎","👍","😂","👻","🕺","💃","🤩","🥳","👽","🤖"]}},methods:{sendMsg:function(){this.msg.txt&&(F.emit("send message",{msg:this.msg,roomId:this.room}),console.log("CHAT MSG SENT : ",this.msg),this.msg.txt="")},isTypingNow:function(){F.emit("is typing",this.isTyping),this.isTyping=!0},isNotTypingNow:function(){F.emit("is not typing",this.isTyping),this.isTyping=!1}},created:function(){var e=this;F.emit("join room",this.room),F.on("chat message",(function(t){e.msgs.push(t)})),F.on("type msg",(function(t){e.isTyping=!0})),F.on("stop type msg",(function(t){e.isTyping=!1})),F.on("message history",(function(t){t.filter((function(t){t.roomId===e.mixId&&e.msgsHistory.push(t.msg)}))}))}},Vt=Jt,Ft=Object(l["a"])(Vt,Gt,Ht,!1,null,null,null),qt=Ft.exports,zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",{attrs:{placeholder:"Select"},on:{change:e.onSelect},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)},Wt=[],Kt={data:function(){return{options:[{value:"funk",label:"funk"},{value:"pop",label:"pop"},{value:"rock",label:"rock"},{value:"israeli",label:"israeli"},{value:"Techno",label:"Techno"},{value:"Soundtrack",label:"Soundtrack"}],value:""}},methods:{onSelect:function(e){console.log("select",e),this.$emit("selectType",e)}}},Xt=Kt,Yt=Object(l["a"])(Xt,zt,Wt,!1,null,null,null),Qt=Yt.exports,Zt=(n("d3b7"),function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(t){var n,s,i,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="appmixes",s="hw-projects",i="https://api.cloudinary.com/v1_1/".concat(s,"/image/upload"),r=new FormData,r.append("file",t.target.files[0]),r.append("upload_preset",n),e.prev=6,e.next=9,fetch(i,{method:"POST",body:r});case 9:return o=e.sent,e.abrupt("return",o.json());case 13:e.prev=13,e.t0=e["catch"](6),console.error("ERROR!",e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}()),en={data:function(){return{songTime:0,isTitleHide:!1,isDescHide:!1,isLoading:!1,songTxt:"",currMix:"",newMix:{name:"Mix Name",desc:"Mix description",genre:"genre",isLiked:!1,imgUrl:"https://res.cloudinary.com/hw-projects/image/upload/v1606479695/appmixes/logo_r_animated_v3_first_Frame.jpg",likes:0,tags:["Funk","Happy"],createdBy:{_id:"u101",fullName:"Puki Ben David",imgUrl:"http://some-photo/"},likedByUsers:[],songs:[{title:"Mac Miller - Good News",id:"i6Hdm",songUrlId:"aIHF7u9Wwiw",imgUrl:"https://i.ytimg.com/vi/aIHF7u9Wwiw/default.jpg",addedBy:"minimal-user",duration:"3:21",isPlaying:!1}]}}},computed:{getMix:function(){return this.$store.getters.getMix?this.$store.getters.getMix:this.newMix},roomId:function(){return this.$route.params.mixId},currSongPlaying:function(){return this.$store.getters.getCurrSongPlaying},mix:function(){return this.$store.getters.getMix?(this.currMix=JSON.parse(JSON.stringify(this.$store.getters.getMix)),this.$store.getters.getMix):(this.currMix=this.newMix,console.log("this.currMix",this.currMix),this.currMix)},user:function(){var e=this.$store.getters.getLoggedinUser;return e},heartMode:function(){return this.currMix.isLiked?"fas fa-heart":"far fa-heart"}},methods:{startSongOnPreview:function(){var e=this;this.currSongPlaying?(this.currMix.songs.forEach((function(e){return e.isPlaying=!1})),this.currMix.songs.forEach((function(t){t.id===e.currSongPlaying.id&&(t.isPlaying=!0)}))):(this.currMix.songs.forEach((function(e){return e.isPlaying=!1})),this.currMix.songs[0].isPlaying=!0,this.$store.commit({type:"setCurrSong",song:this.currMix.songs[0]}))},changeSongPos:function(e){var t=this.currMix.songs.length;if((0!==e.songIdx||-1!==e.diff)&&(e.songIdx!==t||1!==e.diff)){var n=this.currMix.songs,s=e.songIdx,i=e.songIdx+e.diff;console.log("changeSongPos",n,s,i);var r=1,o=n.splice(s,r)[0];r=0,n.splice(i,r,o),this.$store.dispatch({type:"saveMix",mix:this.currMix})}},setGenre:function(e){this.currMix.genre=e},toggleEditTitle:function(){this.isTitleHide=!this.isTitleHide},toggleEditDesc:function(){this.isDescHide=!this.isDescHide},saveChange:function(e){console.log("saveChange",e),this.$store.dispatch({type:"saveMix",mix:e}),this.isTitleHide=!1,this.isDescHide=!1},removeSongFromMix:function(e){var t=this.currMix.songs.findIndex((function(t){return t.id===e}));this.currMix.songs.splice(t,1),this.$store.dispatch({type:"saveMix",mix:this.currMix})},addLike:function(){this.currMix.isLiked?(this.currMix.isLiked=!1,this.currMix.likes--,this.$store.dispatch({type:"saveMix",mix:this.currMix})):(this.currMix.isLiked=!0,this.currMix.likes++,this.$store.dispatch({type:"saveMix",mix:this.currMix}))},onUploadImg:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.isLoading=!0,n.next=3,Zt(e);case 3:s=n.sent,t.imgUrls.push(s.url),t.currMix&&(console.log("updating item img url"),t.currMix.imgUrl=s.url),t.isLoading=!1,t.$store.dispatch({type:"saveMix",mix:t.currMix});case 8:case"end":return n.stop()}}),n)})))()},updateViews:function(){this.currMix.views++,this.$store.dispatch({type:"saveMix",mix:this.currMix})},reload:function(){this.$forceUpdate()},playSongOnStart:function(){var e,t=0;this.getMix&&(this.getMix.songs.forEach((function(n){n.isPlaying&&(t++,e=n)})),t>0?(F.emit("send-song-to-all",e),F.on("song-time-final",(function(e){Wn.$emit("song-time-sync",e)}))):F.emit("send-song-to-all",this.getMix.songs[0]))},getSongTime:function(){Wn.$emit("getTime")}},components:{mixChat:qt,mixSongList:Ut,mixPlayer:Dt,mixSelectGenre:Qt,mixSocial:jt},created:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(F.setup(),F.emit("join room",e.room),!e.$route.params.mixId){t.next=7;break}return n=e.$route.params.mixId,t.next=6,e.$store.dispatch({type:"getMixById",mixId:n});case 6:e.updateViews();case 7:F.on("play-song",(function(t){var n=JSON.parse(JSON.stringify(e.getMix));n.songs.forEach((function(e){return e.isPlaying=!1})),e.currSongPlaying&&(n.songs.forEach((function(t){t.id===e.currSongPlaying.id&&(t.isPlaying=!0,e.isMixPlaying=!0)})),e.$store.dispatch({type:"saveMix",mix:n}))})),e.playSongOnStart(),e.getSongTime(),F.on("song-time-new",(function(e){F.emit("song-time-new-semi",e)}));case 11:case"end":return t.stop()}}),t)})))()},mounted:function(){}},tn=en,nn=Object(l["a"])(tn,ut,lt,!1,null,null,null),sn=nn.exports,rn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"chat-room flex column grow space-between"},[n("div",{staticClass:"chat-msgs"},e._l(e.msgs,(function(t,s){return n("ul",{key:s,staticClass:"clean-list"},[n("li",{staticClass:"msg-text"},[e._v(e._s(t.txt))])])})),0),n("form",[n("div",{staticClass:"user-msg flex"},[n("el-input",{attrs:{type:"text",placeholder:"Send a message"},model:{value:e.msg.txt,callback:function(t){e.$set(e.msg,"txt",t)},expression:"msg.txt"}}),n("button",{staticClass:"btn send-msg",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.onSendMsg(e.msg)}}},[n("img",{attrs:{src:"https://res.cloudinary.com/hw-projects/image/upload/v1606416732/appmixes/send-messege_s_red_my4iaj.png"}})])],1)])])},on=[],an={props:{},data:function(){return{msgs:[],msg:{from:"",txt:""}}},methods:{},created:function(){}},cn=an,un=Object(l["a"])(cn,rn,on,!1,null,null,null),ln=(un.exports,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"mix-list-page container"},[n("div",{staticClass:"input-list flex"},[n("el-input",{attrs:{type:"text",placeholder:"Search song...",clearable:""},model:{value:e.filterBySongName,callback:function(t){e.filterBySongName=t},expression:"filterBySongName"}}),e._m(0)],1),n("nav",{staticClass:"nav-genres"},[n("li",{staticClass:"mix-link-all",on:{click:e.setGenreShowAll}},[e._v("All mixes")]),n("list-genres-carusselv",{staticClass:"list-genres-carussel",on:{setGenre:e.onSetGenre}})],1),n("ul",{staticClass:"ul-mixes"},e._l(e.mixes,(function(e){return n("li",{key:e._id,staticClass:"mix"},[n("mix-preview",{attrs:{mix:e}})],1)})),0)])}),gn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("i",{staticClass:"fas fa-search"})])}],mn=(n("45fc"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("VueSlickCarousel",e._b({scopedSlots:e._u([{key:"prevArrow",fn:function(t){return[n("div",{staticClass:"custom-arrow"},[e._v(" "+e._s(t.currentSlide)+"/"+e._s(t.slideCount)+" ")])]}}])},"VueSlickCarousel",e.settings,!1),e._l(e.geners,(function(t){return n("ul",{key:t,staticClass:"mixes-nav-ul"},[n("li",{staticClass:"mix-link",on:{click:function(n){return e.onEmitSetGenre(t)}}},[e._v(e._s(t))])])})),0)}),pn=[],dn={props:{mixes:{type:Array,default:null}},data:function(){return{settings:{dots:!0,infinite:!1,speed:500,slidesToShow:8,slidesToScroll:8,initialSlide:0,centerPadding:"40px",centerMode:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:8,slidesToScroll:8,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}}},computed:{geners:function(){return this.$store.getters.getGeners}},methods:{onEmitSetGenre:function(e){console.log("genre",e),this.$emit("setGenre",e)},next:function(){this.$refs.slick.next()},prev:function(){this.$refs.slick.prev()},reInit:function(){var e=this;this.$nextTick((function(){e.$refs.slick.reSlick()}))}},components:{VueSlickCarousel:Se.a},created:function(){}},fn=dn,hn=Object(l["a"])(fn,mn,pn,!1,null,null,null),xn=hn.exports,vn={name:"mix-list",props:{},data:function(){return{filterBySongName:"",genre:"all"}},computed:{mixes:function(){var e=this,t=this.$store.getters.getMixesForDisplay;console.log("mixes",t);var n=t;return"all"!==this.genre&&(n=n.filter((function(t){return t.genre.toLowerCase()===e.genre}))),n.filter((function(t){return t.songs.some((function(t){return t.title.toLowerCase().includes(e.filterBySongName.toLowerCase())}))}))},getGenreToDisplay:function(){return this.$store.getters.getGenreToDisplay}},methods:{setGenreShowAll:function(){this.genre="all"},setGenre:function(){this.genre=this.$store.getters.getGenreToDisplay},onSetGenre:function(e){console.log("setGenre",e),this.genre=e},onListSetFilter:function(e){this.$store.commit({type:"setGenre",genre:e})},showList:function(e){this.genre=e,this.$router.push("mix/list")}},components:{mixPreview:ve,listGenresCarusselv:xn},created:function(){console.log("this.$store.getters.getGenreToDisplay",this.$store.getters.getGenreToDisplay),this.$store.dispatch({type:"loadMixes"}),this.setGenre()}},yn=vn,Sn=Object(l["a"])(yn,ln,gn,!1,null,null,null),Cn=Sn.exports;s["default"].use(oe["a"]);var _n=[{path:"/",component:ct},{path:"/login",component:Qe},{path:"/signup",component:it},{path:"/mix/list",component:Cn},{path:"/test",component:Dt},{path:"/mix/details",component:sn},{path:"/mix/details/:mixId",component:sn}],wn=new oe["a"]({routes:_n}),bn=wn,Mn=n("2f62"),Pn=(n("b0c0"),{state:{mixes:[],topMixes:null,genre:"all",currMix:null,currSongPlaying:null,isPlaying:!1,geners:["funk","pop","rock","electro","classic","israeli","techno","trance"]},getters:{getMixesForDisplay:function(e){return e.mixes},getGenreToDisplay:function(e){return e.genre},getCurrSongPlaying:function(e){return e.currSongPlaying},getMix:function(e){return e.currMix},getThisIsPlaying:function(e){return e.isPlaying},getCurrSongIsPlaying:function(e){if(e.currSongPlaying)return e.currSongPlaying.isPlaying},getTopMixes:function(e){return e.topMixes},getGeners:function(e){return e.geners},currentRouteName:function(){return this.$route.name}},mutations:{setSortedMixes:function(e,t){var n="likes",s=t.mixes.sort((function(e,t){var s=e[n],i=t[n];return i-s})),i=s.slice(0,3);e.topMixes=i},setMixes:function(e,t){e.mixes=t.mixes},setGenre:function(e,t){e.genre=t.genre,console.log("setGenre",e.genre)},setCurrSong:function(e,t){e.currSongPlaying=t.song,e.currSongPlaying.isPlaying=!0},removeCurrSong:function(e,t){var n=e.mixes[e.currMix._id].songs.findIndex((function(e){return e.id===t.song.id}));e.mixes[e.currMix._id].songs.splice(n,1),console.log(e.mixes[e.currMix._id].songs)},setMix:function(e,t){e.currMix=t.mix},setMixEmpty:function(e,t){e.currMix=null},nowPlaying:function(e,t){e.isPlaying=t.isPlaying},stopSongPlaying:function(e,t){e.currSongPlaying.isPlaying=!1},startSongPlaying:function(e,t){e.currSongPlaying.isPlaying=!0},stopAllPlaying:function(e,t){t.songs.forEach((function(e){e.id!==t.song.id&&(e.isPlaying=!1)}))},setPrevSongNotPlaying:function(e,t){e.currMix.songs[t.songIdx].isPlaying=!1},resetIconsState:function(e){e.currMix.songs.forEach((function(e){return e.isPlaying=!1}))}},actions:{getTopMixes:function(e){return Object(y["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.query();case 2:n=t.sent,e.commit({type:"setSortedMixes",mixes:n});case 4:case"end":return t.stop()}}),t)})))()},getMixById:function(e,t){return Object(y["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.mixId,n.next=3,k.getById(s);case 3:i=n.sent,e.commit({type:"setMix",mix:i});case 5:case"end":return n.stop()}}),n)})))()},loadMixes:function(e){return Object(y["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.query();case 2:return n=t.sent,e.commit({type:"setMixes",mixes:n}),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))()},getSongById:function(e,t){return Object(y["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,k.getSongByIdAndMix(t.songId,t.mixId);case 2:return s=n.sent,e.commit({type:"setCurrSong",song:s}),n.abrupt("return",s);case 5:case"end":return n.stop()}}),n)})))()},saveMix:function(e,t){return Object(y["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,k.update(t.mix);case 2:return s=n.sent,e.commit({type:"setMix",mix:s}),n.abrupt("return",s);case 5:case"end":return n.stop()}}),n)})))()},sortByNumber:function(e,t){console.log("sort"),e.sort((function(e,n){var s=e[t],i=n[t];return s-i}))}}}),kn={query:$n,getById:Tn,remove:In,save:On,update:jn,login:Nn,logout:Rn,signup:Ln};function $n(){return b.get("user")}function Tn(e){return b.get("user/".concat(e))}function In(e){return b.delete("user/".concat(e))}function On(e){return b.post("user",e)}function jn(e){return b.put("user/".concat(e._id),e)}function Nn(e){return En.apply(this,arguments)}function En(){return En=Object(y["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.post("auth/login",t);case 2:return n=e.sent,e.abrupt("return",Bn(n));case 4:case"end":return e.stop()}}),e)}))),En.apply(this,arguments)}function Rn(){return Un.apply(this,arguments)}function Un(){return Un=Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)}))),Un.apply(this,arguments)}function Ln(e){return An.apply(this,arguments)}function An(){return An=Object(y["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.post("auth/signup",t);case 2:return n=e.sent,e.abrupt("return",Bn(n));case 4:case"end":return e.stop()}}),e)}))),An.apply(this,arguments)}function Bn(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}var Dn={state:{loggedinUser:null,users:[],isLogin:!1,isSignup:!1},getters:{getLoggedinUser:function(e){return e.loggedinUser},isAdmin:function(){},getIsLogin:function(e){return e.isLogin},getIsSignup:function(e){return e.isSignup},getUsers:function(e){return e.users}},mutations:{setUser:function(e,t){var n=t.user;e.loggedinUser=n},setUsers:function(e,t){var n=t.users;e.users=n},setLogin:function(e){e.isLogin=!e.isLogin,e.isSignup=!1},setSignup:function(e){e.isSignup=!e.isSignup,e.isLogin=!1}},actions:{login:function(e,t){return Object(y["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("userCred",t.userCred),n.next=3,kn.login(t.userCred);case 3:return s=n.sent,e.commit({type:"setUser",user:s}),n.abrupt("return",s);case 6:case"end":return n.stop()}}),n)})))()},logout:function(e){return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,kn.logout();case 2:e.commit({type:"setUsers",users:[]}),e.commit({type:"setUser",user:null});case 4:case"end":return t.stop()}}),t)})))()},signup:function(e,t){return Object(y["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.userCred,n.next=3,kn.signup(s);case 3:return i=n.sent,e.commit({type:"setUser",user:i}),n.abrupt("return",i);case 6:case"end":return n.stop()}}),n)})))()}}},Gn={state:{},getters:{},mutations:{},actions:{sendMsg:function(e,t){var n=t.msg;F.emit("sendMsg",n)},getChatHistory:function(e,t){var n=t.chatId;F.emit("getHistory",n)}}};s["default"].use(Mn["a"]);var Hn=new Mn["a"].Store({strict:!0,state:{},mutations:{},actions:{},modules:{mixStore:Pn,userStore:Dn,socketStore:Gn}}),Jn=(n("3c61"),n("5c96")),Vn=n.n(Jn),Fn=(n("0fae"),n("e0ec")),qn=n.n(Fn);n("0a63");s["default"].use(qn.a),s["default"].use(Vn.a);var zn=new s["default"],Wn=zn;new s["default"]({router:bn,store:Hn,render:function(e){return e(ie)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"776b":function(e,t,n){},"7f61":function(e,t,n){"use strict";n("a70e")},"9c0c":function(e,t,n){},a652:function(e,t,n){"use strict";n("3010")},a70e:function(e,t,n){},c18f:function(e,t,n){"use strict";n("776b")}});
//# sourceMappingURL=app.db112727.js.map